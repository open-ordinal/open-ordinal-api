/*! 
* Open Ordinal API 0.9.1
*/var t,e,r={654:(t,e)=>{
/*!
 * Open Ordinal Metadata
 *
 * @author   Open Ordinal <https://openordinal.dev>
 * @license  MIT
 */
Object.defineProperty(e,"__esModule",{value:!0})},526:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],f=o[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,f)),l=0,c=f>0?s-4:s;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===f&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===f&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(f(t,a,a+s>u?u:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},287:(t,e,r)=>{
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const n=r(526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);const i=function(t){if(f.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?a(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return U(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===f)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){let r=!0;for(let n=0;n<f;n++)if(u(t,o+n)!==u(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(J(n))return s;t[r+s]=n}return s}function A(t,e,r,n){return q(W(e,t.length-r),t,r,n)}function E(t,e,r,n){return q(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function O(t,e,r,n){return q(Y(e),t,r,n)}function B(t,e,r,n){return q(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function U(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,f;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(f=(31&e)<<6|63&r,f>127&&(o=f));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(f=(15&e)<<12|(63&r)<<6|63&n,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(f=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return c(t)},f.allocUnsafeSlow=function(t){return c(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=f.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)w(this,e,e+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},f.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?U(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return A(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function k(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=X[t[n]];return i}function _(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function x(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function P(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,o){return e=+e,r>>>=0,o||P(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,o){return e=+e,r>>>=0,o||P(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),f.prototype.readBigUInt64BE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),f.prototype.readBigInt64BE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),f.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=Z((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=Z((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=Z((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=Z((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=f.isBuffer(t)?t:f.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const D={};function N(t,e,r){D[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function $(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function F(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||z(e,t.length-(r+1))}(n,i,o)}function K(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,r){if(Math.floor(t)!==t)throw K(t,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}N("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),N("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),N("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},7:t=>{var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&y(t,"error",e,r)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,o,s,u;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=f(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function h(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function y(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var f=o[t];if(void 0===f)return!1;if("function"==typeof f)n(f,this,e);else{var u=f.length,l=p(f,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},251:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,l=-7,c=r?i-1:0,h=r?-1:1,d=t[e+c];for(c+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+c],c+=h,l-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,f,u=8*o-i-1,l=(1<<u)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+c>=1?h/f:h*Math.pow(2,1-c))*f>=2&&(s++,f/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*f-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*y}}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={exports:{}};return r[t](o,o.exports,i),o.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>r[t]));return s.default=()=>r,i.d(o,s),o},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{Artist:()=>S,Asset:()=>y,Audio:()=>m,Collection:()=>O,Composition:()=>p,Image:()=>b,OOMD:()=>U,Ordinal:()=>w,OrdinalType:()=>a,Release:()=>L,Sprite:()=>E,SpriteAnimation:()=>A,SpriteType:()=>u,Track:()=>k,Trait:()=>g,Variant:()=>d,Video:()=>v,addAsset:()=>gr,addCollection:()=>Ur,addComposition:()=>cr,addTrait:()=>Ar,addVariant:()=>ir,cached:()=>nr,clearAssets:()=>vr,clearCollections:()=>Sr,clearCompositions:()=>yr,clearTraits:()=>Ir,clearVariants:()=>fr,fetchLatest:()=>rr,getAll:()=>We,getAsset:()=>mr,getAssets:()=>br,getBlockHash:()=>qe,getBlockHeight:()=>Ge,getBlockInfo:()=>Ye,getBlockTime:()=>Je,getChildrenAll:()=>ze,getChildrenPage:()=>Ke,getCollection:()=>Tr,getCollections:()=>kr,getComposition:()=>dr,getCompositions:()=>pr,getDisplayedVariant:()=>lr,getId:()=>Se,getInscription:()=>Pe,getLatestId:()=>Xe,getLatestPath:()=>Ze,getMetadata:()=>xe,getOOMD:()=>He,getOrdinalApiFromIFrame:()=>tr,getParentsAll:()=>Fe,getParentsPage:()=>$e,getRequestParams:()=>Me,getSatAll:()=>Ne,getSatAt:()=>Ve,getSatPage:()=>De,getTrait:()=>Or,getTraits:()=>Br,getType:()=>Re,getVariant:()=>sr,getVariants:()=>ar,importLatest:()=>er,isOrdinalAPIExtensionsAvailable:()=>Qe,removeAsset:()=>wr,removeCollection:()=>Lr,removeComposition:()=>hr,removeTrait:()=>Er,removeVariant:()=>or,setDisplayedVariant:()=>ur,setId:()=>Le,setMetadata:()=>Ce,setType:()=>_e});var s,a,f,u,l={};function c(t){if(t instanceof Blob)return s.BLOB;if("string"==typeof t)return t.startsWith("data:")?s.DATA:t.startsWith("blob:")?s.BLOB:s.ORDINAL;throw new Error("Unsupported export type")}i.r(l),i.d(l,{Artist:()=>S,Asset:()=>y,Audio:()=>m,Collection:()=>O,Composition:()=>p,Image:()=>b,OOMD:()=>U,Ordinal:()=>w,OrdinalType:()=>a,Release:()=>L,Sprite:()=>E,SpriteAnimation:()=>A,SpriteType:()=>u,Track:()=>k,Trait:()=>g,Variant:()=>d,Video:()=>v,addAsset:()=>gr,addCollection:()=>Ur,addComposition:()=>cr,addTrait:()=>Ar,addVariant:()=>ir,cached:()=>nr,clearAssets:()=>vr,clearCollections:()=>Sr,clearCompositions:()=>yr,clearTraits:()=>Ir,clearVariants:()=>fr,fetchLatest:()=>rr,getAll:()=>We,getAsset:()=>mr,getAssets:()=>br,getBlockHash:()=>qe,getBlockHeight:()=>Ge,getBlockInfo:()=>Ye,getBlockTime:()=>Je,getChildrenAll:()=>ze,getChildrenPage:()=>Ke,getCollection:()=>Tr,getCollections:()=>kr,getComposition:()=>dr,getCompositions:()=>pr,getDisplayedVariant:()=>lr,getId:()=>Se,getInscription:()=>Pe,getLatestId:()=>Xe,getLatestPath:()=>Ze,getMetadata:()=>xe,getOOMD:()=>He,getOrdinalApiFromIFrame:()=>tr,getParentsAll:()=>Fe,getParentsPage:()=>$e,getRequestParams:()=>Me,getSatAll:()=>Ne,getSatAt:()=>Ve,getSatPage:()=>De,getTrait:()=>Or,getTraits:()=>Br,getType:()=>Re,getVariant:()=>sr,getVariants:()=>ar,importLatest:()=>er,isOrdinalAPIExtensionsAvailable:()=>Qe,removeAsset:()=>wr,removeCollection:()=>Lr,removeComposition:()=>hr,removeTrait:()=>Er,removeVariant:()=>or,setDisplayedVariant:()=>ur,setId:()=>Le,setMetadata:()=>Ce,setType:()=>_e}),function(t){t.ORDINAL="ordinal",t.DATA="data",t.BLOB="blob",t.RENDERER="renderer"}(s||(s={}));class h{constructor(t){this.onExport=t}canExport(){return void 0!==this.onExport}async export(){if(!this.onExport)throw new Error("Nothing to export!");const t=await this.onExport();if(t instanceof Blob)return URL.createObjectURL(t);switch(c(t)){case s.BLOB:case s.DATA:return t;case s.ORDINAL:return"/content/"+t;case s.RENDERER:throw new Error("Renderer export type is not supported")}}}class d extends h{constructor(t){super(t.onExport),this.type=t.type,this.id=t.id,this.name=t.name,this.onDisplay=t.onDisplay,this.onHide=t.onHide}async show(){if(this.onDisplay)await this.onDisplay();else if(this.onExport){const t=await this.onExport();if(c(t)===s.ORDINAL){const e=document.createElement("iframe");e.src=`/preview/${t}`,e.frameBorder="0",e.style.border="none",e.style.outline="none",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0",e.style.margin="0",e.style.padding="0",e.style.zIndex="999999",e.scrolling="no",document.body.style.border="0",document.body.appendChild(e)}}}async hide(){this.onHide?await this.onHide():this.canExport()&&(document.body.innerHTML="")}}class p extends h{constructor(t){super(t.onExport),this.id=t.id,this.name=t.name}}class y{constructor(t){this.id=t.id,this.type=t.type,this.name=t.name,"string"==typeof t.data?this.data=async()=>t.data:this.data=t.data}getType(){return this.type}getName(){return this.name}getId(){return this.id}async getData(){return this.data?await this.data():null}}class g{constructor(t){this.id=t.id,this.name=t.name,this.value=t.value}}!function(t){t.AUDIO="audio",t.VIDEO="video",t.IMAGE="image",t.MODEL="3dmodel",t.TEXT="text",t.MULTI="multi"}(a||(a={}));class w{constructor(t={}){this.id=t.id??"",this.transactionStamp=t.transactionStamp??null,this.info=t.info??null,this.metaData=t.metaData??null}getId(){return this.id}getTransactionStamp(){return this.transactionStamp}getInfo(){return this.info}getMetaData(){return this.metaData}}!function(t){t.Album="Album",t.Artist="Artist",t.Track="Track"}(f||(f={}));class m{constructor(t={}){this.url=t.url,this.type=t.type}getUrl(){return this.url}getType(){return this.type}}class b{constructor(t={}){this.url=t.url,this.width=t.width,this.height=t.height,this.description=t.description}getUrl(){return this.url}getWidth(){return this.width}getHeight(){return this.height}getDescription(){return this.description}}class v{constructor(t={}){this.url=t.url,this.duration=t.duration,this.format=t.format,this.resolution=t.resolution}getUrl(){return this.url}getDuration(){return this.duration}getFormat(){return this.format}getResolution(){return this.resolution}}!function(t){t.GridByCell="gridbycell"}(u||(u={}));class A{constructor(t){this.name=t.name,this.frames=t.frames,this.loop=t.loop??!0}}class E{constructor(t){this.rows=1,this.cells=1,this.offset={x:0,y:0},this.padding={x:0,y:0},this.type=u.GridByCell,this.rows=t.rows,this.cells=t.cells,this.offset=t.offset??this.offset,this.padding=t.padding??this.padding,this.source=new h(t.sourceExport),this.actions=t.actions}}class O{constructor(t){this.collectionTraits=[],this.id=t.id,this.name=t.name,this.description=t.description,this.collectionTraits=(t.collectionTraits||[]).map((t=>new B(t)))}addTraitCategory(t){this.collectionTraits.push(new B(t))}}class B{constructor(t){this.id=t.id,this.name=t.name,this.traitNames=t.traitNames}}var I=i(654),U=i.t(I,2);const T={};class k{constructor(){this.title="",this.artists=[],this.release=new L,this.duration=0,this.audioURL="",this._loaded=!0,this.mm={}}static async _load(t){let e=new k;e._loaded=!1,e.id=await Xe(t);let r=await xe(e.id),n="object"==typeof r?.track?r.track:r;e.mm="object"==typeof r?.media?r.media:r,e.duration=e.mm?.duration??0,e.title=n?.title??`<${e.id}>`;const i=n?.releases&&n.releases[0];if(i)if("string"==typeof i){const t=new L;t.title=i,e.release=t}else{const t="@id"in i&&i["@id"];if(t){const r=await L.load(t);e.release=r}else{const t=new L;Object.assign(t,i),e.release=t}}else{const t=await Fe(e.id);e.release=await L.load(t[0])}const o=n?.artists;if(o)for(var s of o)if("string"==typeof s){const t=new S;t.name=s,e.artists.push(t)}else{const t="@id"in s&&s["@id"];if(t){const r=await S.load(t);e.artists.push(r)}else{const t=new S;Object.assign(t,s),e.artists.push(t)}}else e.artists=e.release.artists;return e}async loadData(){if(this._loaded)return this;let t=this.mm.decoder;if(t&&"@id"in t){const e=await async function(t){return null==T[t]&&(T[t]=import(`/content/${t}`)),(await T[t]).default}(t["@id"]),r=await fetch(`/content/${this.id}`),n=await e(await r.arrayBuffer(),this.mm);if(n.audioBuffer){const t=function(t){let e,r,n=t.numberOfChannels,i=t.length*n*2+44,o=new ArrayBuffer(i),s=new DataView(o),a=[],f=0,u=0;for(c(1179011410),c(i-8),c(1163280727),c(544501094),c(16),l(1),l(n),c(t.sampleRate),c(2*t.sampleRate*n),l(2*n),l(16),c(1635017060),c(i-u-4),e=0;e<t.numberOfChannels;e++)a.push(t.getChannelData(e));for(;u<i;){for(e=0;e<n;e++)r=Math.max(-1,Math.min(1,a[e][f])),r=0|(.5+r<0?32768*r:32767*r),s.setInt16(u,r,!0),u+=2;f++}return o;function l(t){s.setUint16(u,t,!0),u+=2}function c(t){s.setUint32(u,t,!0),u+=4}}(await n.audioBuffer()),e=new Blob([t],{type:"audio/wav"});this.audioURL=URL.createObjectURL(e)}}else if(t&&"@sat"in t);else{const t=`/content/${this.id}`,e=new Audio(t);await new Promise(((t,r)=>{e.onloadedmetadata=()=>t()})),this.duration=e.duration,this.audioURL=t}return this._loaded=!0,this}}k.load=nr(k._load);class L{constructor(){this.title="",this.type="",this.date=new Date,this.artists=[],this.coverURL="",this.tracks=[],this._loaded=!0}static async _load(t){const e=new L;e._loaded=!1,e.id=await Xe(t);let r=await xe(e.id),n="object"==typeof r?.release?r.release:r;e._tracks=n.tracks,e.title=n.title??`<${e.id}>`,e.type=n.type??"collection";const i=n.artists;if(i)for(let t of i)if("string"==typeof t){const r=new S;r.name=t,e.artists.push(r)}else{const r="@id"in t&&t["@id"];if(r){const t=await S.load(r);e.artists.push(t)}else{const r=new S;Object.assign(r,t),e.artists.push(r)}}else{const t=await Fe(e.id);for(let r of t){const t=await S.load(r);e.artists.push(t)}}const o=await Pe(e.id);return e.date=new Date(n.date??1e3*(o.timestamp??0)),e.coverURL=n.cover&&"@id"in n.cover?`/content/${n.cover["@id"]}`:L.fallbackCover,e}get artist(){return this.artists[0]}get year(){return this.date.getFullYear()}get duration(){var t=0;for(var e of this.tracks)t+=e.duration;return t}async loadData(){if(this._loaded)return this;const t=this._tracks;if(t)for(let e of t){const t="@id"in e&&e["@id"];if(t){const e=await k.load(t);this.tracks.push(e)}else{const t=new k;Object.assign(t,e),this.tracks.push(t)}}else{const t=await ze(this.id);for(let e of t){const t=await k.load(e);this.tracks.push(t)}}return this._loaded=!0,this}}L.fallbackCover="",L.load=nr(L._load);class S{constructor(){this.name="",this.releases=[],this._loaded=!0}static async _load(t){const e=new S;e._loaded=!1,e.id=await Xe(t);let r=await xe(e.id);return e.md="object"==typeof r?.artist?r.artist:r,e.name=e.md?.name??`<${e.id}>`,e}async loadData(){if(this._loaded)return this;let t=this.md?.releases;if(t)for(var e of t){const t="@id"in e&&e["@id"];if(t){const e=await L.load(t);this.releases.push(e)}else{const t=new L;Object.assign(t,e),0==t.artists.length&&t.artists.push(this),this.releases.push(t)}}else for(var r of await ze(this.id)){const t=await L.load(r);this.releases.push(t)}return this._loaded=!0,this}get releaseTypes(){const t={};for(const e of this.releases)t[e.type]=!0;return Object.keys(t)}get duration(){var t=0;for(var e of this.tracks)t+=e.duration;return t}get tracks(){return this.releases.flatMap((t=>t.tracks))}}let _,R,C;S.load=nr(S._load);try{_=new TextDecoder}catch(t){}let M=0;const x=[],P=57342,j=57343,V=57337,D={};let N,$,F,K,z,H,W,Y=11281e4,q=1681e4,G=x,J=0,X={},Z=0,Q=0,tt=[],et=[],rt={useRecords:!1,mapsAsObjects:!0},nt=!1,it=2;try{new Function("")}catch(t){it=1/0}class ot{constructor(t){if(t&&(!t.keyMap&&!t._keyMap||t.useRecords||(t.useRecords=!1,t.mapsAsObjects=!0),!1===t.useRecords&&void 0===t.mapsAsObjects&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[e,r]of Object.entries(t.keyMap))this.mapKey.set(r,e)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let e=new Map;for(let[r,n]of Object.entries(t))e.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,n);return e}decodeKeys(t){if(!this._keyMap||"Map"!=t.constructor.name)return t;if(!this._mapKey){this._mapKey=new Map;for(let[t,e]of Object.entries(this._keyMap))this._mapKey.set(e,t)}let e={};return t.forEach(((t,r)=>e[lt(this._mapKey.has(r)?this._mapKey.get(r):r)]=t)),e}mapDecode(t,e){let r=this.decode(t);return this._keyMap&&"Array"===r.constructor.name?r.map((t=>this.decodeKeys(t))):r}decode(t,e){if(R)return St((()=>(_t(),this?this.decode(t,e):ot.prototype.decode.call(rt,t,e))));C=e>-1?e:t.length,M=0,J=0,Q=0,$=null,G=x,F=null,R=t;try{H=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(e){if(R=null,t instanceof Uint8Array)throw e;throw new Error("Source must be a Uint8Array or Buffer but was a "+(t&&"object"==typeof t?t.constructor.name:typeof t))}if(this instanceof ot){if(X=this,z=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return N=this.structures,st();(!N||N.length>0)&&(N=[])}else X=rt,(!N||N.length>0)&&(N=[]),z=null;return st()}decodeMultiple(t,e){let r,n=0;try{let i=t.length;nt=!0;let o=this?this.decode(t,i):Ct.decode(t,i);if(!e){for(r=[o];M<i;)n=M,r.push(st());return r}if(!1===e(o))return;for(;M<i;)if(n=M,!1===e(st()))return}catch(t){throw t.lastPosition=n,t.values=r,t}finally{nt=!1,_t()}}}function st(){try{let t=at();if(F){if(M>=F.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}M=F.postBundlePosition,F=null}if(M==C)N=null,R=null,K&&(K=null);else{if(M>C){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}if(!nt)throw new Error("Data read, but end of buffer not reached")}return t}catch(t){throw _t(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function at(){let t=R[M++],e=t>>5;if(t&=31,t>23)switch(t){case 24:t=R[M++];break;case 25:if(7==e)return function(){let t=R[M++],e=R[M++],r=(127&t)>>2;if(31===r)return e||3&t?NaN:128&t?-1/0:1/0;if(0===r){let r=((3&t)<<8|e)/(1<<24);return 128&t?-r:r}return wt[3]=128&t|56+(r>>1),wt[2]=(7&t)<<5|e>>3,wt[1]=e<<5,wt[0]=0,gt[0]}();t=H.getUint16(M),M+=2;break;case 26:if(7==e){let t=H.getFloat32(M);if(X.useFloat32>2){let e=Rt[(127&R[M])<<1|R[M+1]>>7];return M+=4,(e*t+(t>0?.5:-.5)|0)/e}return M+=4,t}t=H.getUint32(M),M+=4;break;case 27:if(7==e){let t=H.getFloat64(M);return M+=8,t}if(e>1){if(H.getUint32(M)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=H.getUint32(M+4)}else X.int64AsNumber?(t=4294967296*H.getUint32(M),t+=H.getUint32(M+4)):t=H.getBigUint64(M);M+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let t,r=[],n=0;for(;(t=at())!=D;){if(n>=Y)throw new Error(`Array length exceeds ${Y}`);r[n++]=t}return 4==e?r:3==e?r.join(""):Buffer.concat(r);case 5:let i;if(X.mapsAsObjects){let t={},e=0;if(X.keyMap)for(;(i=at())!=D;){if(e++>=q)throw new Error(`Property count exceeds ${q}`);t[lt(X.decodeKey(i))]=at()}else for(;(i=at())!=D;){if(e++>=q)throw new Error(`Property count exceeds ${q}`);t[lt(i)]=at()}return t}{W&&(X.mapsAsObjects=!0,W=!1);let t=new Map;if(X.keyMap){let e=0;for(;(i=at())!=D;){if(e++>=q)throw new Error(`Map size exceeds ${q}`);t.set(X.decodeKey(i),at())}}else{let e=0;for(;(i=at())!=D;){if(e++>=q)throw new Error(`Map size exceeds ${q}`);t.set(i,at())}}return t}case 7:return D;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+t)}switch(e){case 0:return t;case 1:return~t;case 2:return r=t,X.copyBuffers?Uint8Array.prototype.slice.call(R,M,M+=r):R.subarray(M,M+=r);case 3:if(Q>=M)return $.slice(M-Z,(M+=t)-Z);if(0==Q&&C<140&&t<32){let e=t<16?yt(t):pt(t);if(null!=e)return e}return ct(t);case 4:if(t>=Y)throw new Error(`Array length exceeds ${Y}`);let e=new Array(t);for(let r=0;r<t;r++)e[r]=at();return e;case 5:if(t>=q)throw new Error(`Map size exceeds ${Y}`);if(X.mapsAsObjects){let e={};if(X.keyMap)for(let r=0;r<t;r++)e[lt(X.decodeKey(at()))]=at();else for(let r=0;r<t;r++)e[lt(at())]=at();return e}{W&&(X.mapsAsObjects=!0,W=!1);let e=new Map;if(X.keyMap)for(let r=0;r<t;r++)e.set(X.decodeKey(at()),at());else for(let r=0;r<t;r++)e.set(at(),at());return e}case 6:if(t>=V){let e=N[8191&t];if(e)return e.read||(e.read=ut(e)),e.read();if(t<65536){if(t==j){let t=kt(),e=at(),r=at();bt(e,r);let n={};if(X.keyMap)for(let e=2;e<t;e++){n[lt(X.decodeKey(r[e-2]))]=at()}else for(let e=2;e<t;e++){n[lt(r[e-2])]=at()}return n}if(t==P){let t=kt(),e=at();for(let r=2;r<t;r++)bt(e++,at());return at()}if(t==V)return function(){let t=kt(),e=M+at();for(let e=2;e<t;e++){let t=kt();M+=t}let r=M;return M=e,F=[ht(kt()),ht(kt())],F.position0=0,F.position1=0,F.postBundlePosition=M,M=r,at()}();if(X.getShared&&(Lt(),e=N[8191&t],e))return e.read||(e.read=ut(e)),e.read()}}let n=tt[t];if(n)return n.handlesRead?n(at):n(at());{let e=at();for(let r=0;r<et.length;r++){let n=et[r](t,e);if(void 0!==n)return n}return new mt(e,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:let e=(z||Ot())[t];if(void 0!==e)return e;throw new Error("Unknown token "+t)}default:if(isNaN(t)){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}throw new Error("Unknown CBOR token "+t)}var r}const ft=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ut(t){if(!t)throw new Error("Structure is required in record definition");return t.slowReads=0,function(){let t=R[M++];if(t&=31,t>23)switch(t){case 24:t=R[M++];break;case 25:t=H.getUint16(M),M+=2;break;case 26:t=H.getUint32(M),M+=4;break;default:throw new Error("Expected array header, but got "+R[M-1])}let e=this.compiledReader;for(;e;){if(e.propertyCount===t)return e(at);e=e.next}if(this.slowReads++>=it){let r=this.length==t?this:this.slice(0,t);return e=X.keyMap?new Function("r","return {"+r.map((t=>X.decodeKey(t))).map((t=>ft.test(t)?lt(t)+":r()":"["+JSON.stringify(t)+"]:r()")).join(",")+"}"):new Function("r","return {"+r.map((t=>ft.test(t)?lt(t)+":r()":"["+JSON.stringify(t)+"]:r()")).join(",")+"}"),this.compiledReader&&(e.next=this.compiledReader),e.propertyCount=t,this.compiledReader=e,e(at)}let r={};if(X.keyMap)for(let e=0;e<t;e++)r[lt(X.decodeKey(this[e]))]=at();else for(let e=0;e<t;e++)r[lt(this[e])]=at();return r}}function lt(t){if("string"==typeof t)return"__proto__"===t?"__proto_":t;if("number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t.toString();if(null==t)return t+"";throw new Error("Invalid property name type "+typeof t)}let ct=ht;function ht(t){let e;if(t<16&&(e=yt(t)))return e;if(t>64&&_)return _.decode(R.subarray(M,M+=t));const r=M+t,n=[];for(e="";M<r;){const t=R[M++];if(128&t)if(192==(224&t)){const e=63&R[M++];n.push((31&t)<<6|e)}else if(224==(240&t)){const e=63&R[M++],r=63&R[M++];n.push((31&t)<<12|e<<6|r)}else if(240==(248&t)){let e=(7&t)<<18|(63&R[M++])<<12|(63&R[M++])<<6|63&R[M++];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}else n.push(t);else n.push(t);n.length>=4096&&(e+=dt.apply(String,n),n.length=0)}return n.length>0&&(e+=dt.apply(String,n)),e}let dt=String.fromCharCode;function pt(t){let e=M,r=new Array(t);for(let n=0;n<t;n++){const t=R[M++];if((128&t)>0)return void(M=e);r[n]=t}return dt.apply(String,r)}function yt(t){if(t<4){if(t<2){if(0===t)return"";{let t=R[M++];return(128&t)>1?void(M-=1):dt(t)}}{let e=R[M++],r=R[M++];if((128&e)>0||(128&r)>0)return void(M-=2);if(t<3)return dt(e,r);let n=R[M++];return(128&n)>0?void(M-=3):dt(e,r,n)}}{let e=R[M++],r=R[M++],n=R[M++],i=R[M++];if((128&e)>0||(128&r)>0||(128&n)>0||(128&i)>0)return void(M-=4);if(t<6){if(4===t)return dt(e,r,n,i);{let t=R[M++];return(128&t)>0?void(M-=5):dt(e,r,n,i,t)}}if(t<8){let o=R[M++],s=R[M++];if((128&o)>0||(128&s)>0)return void(M-=6);if(t<7)return dt(e,r,n,i,o,s);let a=R[M++];return(128&a)>0?void(M-=7):dt(e,r,n,i,o,s,a)}{let o=R[M++],s=R[M++],a=R[M++],f=R[M++];if((128&o)>0||(128&s)>0||(128&a)>0||(128&f)>0)return void(M-=8);if(t<10){if(8===t)return dt(e,r,n,i,o,s,a,f);{let t=R[M++];return(128&t)>0?void(M-=9):dt(e,r,n,i,o,s,a,f,t)}}if(t<12){let u=R[M++],l=R[M++];if((128&u)>0||(128&l)>0)return void(M-=10);if(t<11)return dt(e,r,n,i,o,s,a,f,u,l);let c=R[M++];return(128&c)>0?void(M-=11):dt(e,r,n,i,o,s,a,f,u,l,c)}{let u=R[M++],l=R[M++],c=R[M++],h=R[M++];if((128&u)>0||(128&l)>0||(128&c)>0||(128&h)>0)return void(M-=12);if(t<14){if(12===t)return dt(e,r,n,i,o,s,a,f,u,l,c,h);{let t=R[M++];return(128&t)>0?void(M-=13):dt(e,r,n,i,o,s,a,f,u,l,c,h,t)}}{let d=R[M++],p=R[M++];if((128&d)>0||(128&p)>0)return void(M-=14);if(t<15)return dt(e,r,n,i,o,s,a,f,u,l,c,h,d,p);let y=R[M++];return(128&y)>0?void(M-=15):dt(e,r,n,i,o,s,a,f,u,l,c,h,d,p,y)}}}}}let gt=new Float32Array(1),wt=new Uint8Array(gt.buffer,0,4);new Array(4096);class mt{constructor(t,e){this.value=t,this.tag=e}}tt[0]=t=>new Date(t),tt[1]=t=>new Date(Math.round(1e3*t)),tt[2]=t=>{let e=BigInt(0);for(let r=0,n=t.byteLength;r<n;r++)e=BigInt(t[r])+(e<<BigInt(8));return e},tt[3]=t=>BigInt(-1)-tt[2](t),tt[4]=t=>+(t[1]+"e"+t[0]),tt[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));const bt=(t,e)=>{let r=N[t-=57344];r&&r.isShared&&((N.restoreStructures||(N.restoreStructures=[]))[t]=r),N[t]=e,e.read=ut(e)};tt[105]=t=>{let e=t.length,r=t[1];bt(t[0],r);let n={};for(let i=2;i<e;i++){n[lt(r[i-2])]=t[i]}return n},tt[14]=t=>F?F[0].slice(F.position0,F.position0+=t):new mt(t,14),tt[15]=t=>F?F[1].slice(F.position1,F.position1+=t):new mt(t,15);let vt={Error,RegExp};tt[27]=t=>(vt[t[0]]||Error)(t[1],t[2]);const At=t=>{if(132!=R[M++]){let t=new Error("Packed values structure must be followed by a 4 element array");throw R.length<M&&(t.incomplete=!0),t}let e=t();if(!e||!e.length){let t=new Error("Packed values structure must be followed by a 4 element array");throw t.incomplete=!0,t}return z=z?e.concat(z.slice(e.length)):e,z.prefixes=t(),z.suffixes=t(),t()};function Et(t,e){return"string"==typeof t?t+e:t instanceof Array?t.concat(e):Object.assign({},t,e)}function Ot(){if(!z){if(!X.getShared)throw new Error("No packed values available");Lt()}return z}At.handlesRead=!0,tt[51]=At,tt[6]=t=>{if(!z){if(!X.getShared)return new mt(t,6);Lt()}if("number"==typeof t)return z[16+(t>=0?2*t:-2*t-1)];let e=new Error("No support for non-integer packed references yet");throw void 0===t&&(e.incomplete=!0),e},tt[28]=t=>{K||(K=new Map,K.id=0);let e,r=K.id++,n=M;e=R[M]>>5==4?[]:{};let i={target:e};K.set(r,i);let o=t();return i.used?(Object.getPrototypeOf(e)!==Object.getPrototypeOf(o)&&(M=n,e=o,K.set(r,{target:e}),o=t()),Object.assign(e,o)):(i.target=o,o)},tt[28].handlesRead=!0,tt[29]=t=>{let e=K.get(t);return e.used=!0,e.target},tt[258]=t=>new Set(t),(tt[259]=t=>(X.mapsAsObjects&&(X.mapsAsObjects=!1,W=!0),t())).handlesRead=!0;et.push(((t,e)=>t>=225&&t<=255?Et(Ot().prefixes[t-224],e):t>=28704&&t<=32767?Et(Ot().prefixes[t-28672],e):t>=1879052288&&t<=2147483647?Et(Ot().prefixes[t-1879048192],e):t>=216&&t<=223?Et(e,Ot().suffixes[t-216]):t>=27647&&t<=28671?Et(e,Ot().suffixes[t-27639]):t>=1811940352&&t<=1879048191?Et(e,Ot().suffixes[t-1811939328]):1399353956==t?{packedValues:z,structures:N.slice(0),version:e}:55799==t?e:void 0));const Bt=1==new Uint8Array(new Uint16Array([1]).buffer)[0],It=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Ut=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<It.length;t++)Tt(It[t],Ut[t]);function Tt(t,e){let r,n="get"+t.name.slice(0,-5);"function"==typeof t?r=t.BYTES_PER_ELEMENT:t=null;for(let i=0;i<2;i++){if(!i&&1==r)continue;let o=2==r?1:4==r?2:8==r?3:0;tt[i?e:e-4]=1==r||i==Bt?n=>{if(!t)throw new Error("Could not find typed array for code "+e);return X.copyBuffers||1!==r&&(2!==r||1&n.byteOffset)&&(4!==r||3&n.byteOffset)&&(8!==r||7&n.byteOffset)?new t(Uint8Array.prototype.slice.call(n,0).buffer):new t(n.buffer,n.byteOffset,n.byteLength>>o)}:r=>{if(!t)throw new Error("Could not find typed array for code "+e);let s=new DataView(r.buffer,r.byteOffset,r.byteLength),a=r.length>>o,f=new t(a),u=s[n];for(let t=0;t<a;t++)f[t]=u.call(s,t<<o,i);return f}}}function kt(){let t=31&R[M++];if(t>23)switch(t){case 24:t=R[M++];break;case 25:t=H.getUint16(M),M+=2;break;case 26:t=H.getUint32(M),M+=4}return t}function Lt(){if(X.getShared){let t=St((()=>(R=null,X.getShared())))||{},e=t.structures||[];X.sharedVersion=t.version,z=X.sharedValues=t.packedValues,!0===N?X.structures=N=e:N.splice.apply(N,[0,e.length].concat(e))}}function St(t){let e=C,r=M,n=J,i=Z,o=Q,s=$,a=G,f=K,u=F,l=new Uint8Array(R.slice(0,C)),c=N,h=X,d=nt,p=t();return C=e,M=r,J=n,Z=i,Q=o,$=s,G=a,K=f,F=u,R=l,nt=d,N=c,X=h,H=new DataView(R.buffer,R.byteOffset,R.byteLength),p}function _t(){R=null,K=null,N=null}const Rt=new Array(147);for(let t=0;t<256;t++)Rt[t]=+("1e"+Math.floor(45.15-.30103*t));let Ct=new ot({useRecords:!1});const Mt=Ct.decode;Ct.decodeMultiple;let xt,Pt,jt;try{xt=new TextEncoder}catch(t){}const Vt="object"==typeof globalThis&&globalThis.Buffer,Dt=void 0!==Vt,Nt=Dt?Vt.allocUnsafeSlow:Uint8Array,$t=Dt?Vt:Uint8Array,Ft=Dt?4294967296:2144337920;let Kt,zt,Ht,Wt,Yt=0,qt=null;const Gt=/[\u0080-\uFFFF]/,Jt=Symbol("record-id");class Xt extends ot{constructor(t){let e,r,n,i,o;super(t),this.offset=0,t=t||{};let s=$t.prototype.utf8Write?function(t,e,r){return zt.utf8Write(t,e,r)}:!(!xt||!xt.encodeInto)&&function(t,e){return xt.encodeInto(t,zt.subarray(e)).written},a=this,f=t.structures||t.saveStructures,u=t.maxSharedStructures;if(null==u&&(u=f?128:0),u>8190)throw new Error("Maximum maxSharedStructure is 8190");let l=t.sequential;l&&(u=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let c,h,d,p=t.sharedValues;if(p){d=Object.create(null);for(let t=0,e=p.length;t<e;t++)d[p[t]]=t}let y=[],g=0,w=0;this.mapEncode=function(t,e){if(this._keyMap&&!this._mapped&&"Array"===t.constructor.name)t=t.map((t=>this.encodeKeys(t)));return this.encode(t,e)},this.encode=function(s,f){if(zt||(zt=new Nt(8192),Ht=new DataView(zt.buffer,0,8192),Yt=0),Wt=zt.length-10,Wt-Yt<2048?(zt=new Nt(zt.length),Ht=new DataView(zt.buffer,0,zt.length),Wt=zt.length-10,Yt=0):f===de&&(Yt=Yt+7&2147483640),e=Yt,a.useSelfDescribedHeader&&(Ht.setUint32(Yt,3654940416),Yt+=3),o=a.structuredClone?new Map:null,a.bundleStrings&&"string"!=typeof s?(qt=[],qt.size=1/0):qt=null,r=a.structures,r){if(r.uninitialized){let t=a.getShared()||{};a.structures=r=t.structures||[],a.sharedVersion=t.version;let e=a.sharedValues=t.packedValues;if(e){d={};for(let t=0,r=e.length;t<r;t++)d[e[t]]=t}}let t=r.length;if(t>u&&!l&&(t=u),!r.transitions){r.transitions=Object.create(null);for(let e=0;e<t;e++){let t=r[e];if(!t)continue;let n,i=r.transitions;for(let r=0,o=t.length;r<o;r++){void 0===i[Jt]&&(i[Jt]=e);let o=t[r];n=i[o],n||(n=i[o]=Object.create(null)),i=n}i[Jt]=1048576|e}}l||(r.nextId=t)}if(n&&(n=!1),i=r||[],h=d,t.pack){let e=new Map;if(e.values=[],e.encoder=a,e.maxValues=t.maxPrivatePackedValues||(d?16:1/0),e.objectMap=d||!1,e.samplingPackedValues=c,ne(s,e),e.values.length>0){zt[Yt++]=216,zt[Yt++]=51,te(4);let t=e.values;m(t),te(0),te(0),h=Object.create(d||null);for(let e=0,r=t.length;e<r;e++)h[t[e]]=e}}Kt=f&ye;try{if(Kt)return;if(m(s),qt&&ae(e,m),a.offset=Yt,o&&o.idsToInsert){Yt+=2*o.idsToInsert.length,Yt>Wt&&v(Yt),a.offset=Yt;let t=function(t,e){let r,n=2*e.length,i=t.length-n;e.sort(((t,e)=>t.offset>e.offset?1:-1));for(let r=0;r<e.length;r++){let n=e[r];n.id=r;for(let e of n.references)t[e++]=r>>8,t[e]=255&r}for(;r=e.pop();){let e=r.offset;t.copyWithin(e+n,e,i),n-=2;let o=e+n;t[o++]=216,t[o++]=28,i=e}return t}(zt.subarray(e,Yt),o.idsToInsert);return o=null,t}return f&de?(zt.start=e,zt.end=Yt,zt):zt.subarray(e,Yt)}finally{if(r)if(w<10&&w++,r.length>u&&(r.length=u),g>1e4)r.transitions=null,w=0,g=0,y.length>0&&(y=[]);else if(y.length>0&&!l){for(let t=0,e=y.length;t<e;t++)y[t][Jt]=void 0;y=[]}if(n&&a.saveShared){a.structures.length>u&&(a.structures=a.structures.slice(0,u));let t=zt.subarray(e,Yt);return!1===a.updateSharedData()?a.encode(s):t}f&pe&&(Yt=e)}},this.findCommonStringsToPack=()=>(c=new Map,d||(d=Object.create(null)),t=>{let e=t&&t.threshold||4,r=this.pack?t.maxPrivatePackedValues||16:0;p||(p=this.sharedValues=[]);for(let[t,i]of c)i.count>e&&(d[t]=r++,p.push(t),n=!0);for(;this.saveShared&&!1===this.updateSharedData(););c=null});const m=r=>{Yt>Wt&&(zt=v(Yt));var n,i=typeof r;if("string"===i){if(h){let e=h[r];if(e>=0)return void(e<16?zt[Yt++]=e+224:(zt[Yt++]=198,m(1&e?15-e>>1:e-16>>1)));if(c&&!t.pack){let t=c.get(r);t?t.count++:c.set(r,{count:1})}}let i,o=r.length;if(qt&&o>=4&&o<1024){if((qt.size+=o)>61440){let t,r=(qt[0]?3*qt[0].length+qt[1].length:0)+10;Yt+r>Wt&&(zt=v(Yt+r)),zt[Yt++]=217,zt[Yt++]=223,zt[Yt++]=249,zt[Yt++]=qt.position?132:130,zt[Yt++]=26,t=Yt-e,Yt+=4,qt.position&&ae(e,m),qt=["",""],qt.size=0,qt.position=t}let t=Gt.test(r);return qt[t?0:1]+=r,zt[Yt++]=t?206:207,void m(o)}i=o<32?1:o<256?2:o<65536?3:5;let a=3*o;if(Yt+a>Wt&&(zt=v(Yt+a)),o<64||!s){let t,e,s,a=Yt+i;for(t=0;t<o;t++)e=r.charCodeAt(t),e<128?zt[a++]=e:e<2048?(zt[a++]=e>>6|192,zt[a++]=63&e|128):55296==(64512&e)&&56320==(64512&(s=r.charCodeAt(t+1)))?(e=65536+((1023&e)<<10)+(1023&s),t++,zt[a++]=e>>18|240,zt[a++]=e>>12&63|128,zt[a++]=e>>6&63|128,zt[a++]=63&e|128):(zt[a++]=e>>12|224,zt[a++]=e>>6&63|128,zt[a++]=63&e|128);n=a-Yt-i}else n=s(r,Yt+i,a);n<24?zt[Yt++]=96|n:n<256?(i<2&&zt.copyWithin(Yt+2,Yt+1,Yt+1+n),zt[Yt++]=120,zt[Yt++]=n):n<65536?(i<3&&zt.copyWithin(Yt+3,Yt+2,Yt+2+n),zt[Yt++]=121,zt[Yt++]=n>>8,zt[Yt++]=255&n):(i<5&&zt.copyWithin(Yt+5,Yt+3,Yt+3+n),zt[Yt++]=122,Ht.setUint32(Yt,n),Yt+=4),Yt+=n}else if("number"===i)if(this.alwaysUseFloat||r>>>0!==r)if(this.alwaysUseFloat||(r|0)!==r){let t;if((t=this.useFloat32)>0&&r<4294967296&&r>=-2147483648){let e;if(zt[Yt++]=250,Ht.setFloat32(Yt,r),t<4||((e=r*Rt[(127&zt[Yt])<<1|zt[Yt+1]>>7])|0)===e)return void(Yt+=4);Yt--}zt[Yt++]=251,Ht.setFloat64(Yt,r),Yt+=8}else r>=-24?zt[Yt++]=31-r:r>=-256?(zt[Yt++]=56,zt[Yt++]=~r):r>=-65536?(zt[Yt++]=57,Ht.setUint16(Yt,~r),Yt+=2):(zt[Yt++]=58,Ht.setUint32(Yt,~r),Yt+=4);else r<24?zt[Yt++]=r:r<256?(zt[Yt++]=24,zt[Yt++]=r):r<65536?(zt[Yt++]=25,zt[Yt++]=r>>8,zt[Yt++]=255&r):(zt[Yt++]=26,Ht.setUint32(Yt,r),Yt+=4);else if("object"===i)if(r){if(o){let t=o.get(r);if(t){if(zt[Yt++]=216,zt[Yt++]=29,zt[Yt++]=25,!t.references){let e=o.idsToInsert||(o.idsToInsert=[]);t.references=[],e.push(t)}return t.references.push(Yt-e),void(Yt+=2)}o.set(r,{offset:Yt-e})}let t=r.constructor;if(t===Object)b(r);else if(t===Array){(n=r.length)<24?zt[Yt++]=128|n:te(n);for(let t=0;t<n;t++)m(r[t])}else if(t===Map)if((this.mapsAsObjects?!1!==this.useTag259ForMaps:this.useTag259ForMaps)&&(zt[Yt++]=217,zt[Yt++]=1,zt[Yt++]=3),(n=r.size)<24?zt[Yt++]=160|n:n<256?(zt[Yt++]=184,zt[Yt++]=n):n<65536?(zt[Yt++]=185,zt[Yt++]=n>>8,zt[Yt++]=255&n):(zt[Yt++]=186,Ht.setUint32(Yt,n),Yt+=4),a.keyMap)for(let[t,e]of r)m(a.encodeKey(t)),m(e);else for(let[t,e]of r)m(t),m(e);else{for(let t=0,e=Pt.length;t<e;t++){if(r instanceof jt[t]){let e=Pt[t],n=e.tag;return null==n&&(n=e.getTag&&e.getTag.call(this,r)),n<24?zt[Yt++]=192|n:n<256?(zt[Yt++]=216,zt[Yt++]=n):n<65536?(zt[Yt++]=217,zt[Yt++]=n>>8,zt[Yt++]=255&n):n>-1&&(zt[Yt++]=218,Ht.setUint32(Yt,n),Yt+=4),void e.encode.call(this,r,m,v)}}if(r[Symbol.iterator]){if(Kt){let t=new Error("Iterable should be serialized as iterator");throw t.iteratorNotHandled=!0,t}zt[Yt++]=159;for(let t of r)m(t);return void(zt[Yt++]=255)}if(r[Symbol.asyncIterator]||re(r)){let t=new Error("Iterable/blob should be serialized as iterator");throw t.iteratorNotHandled=!0,t}if(this.useToJSON&&r.toJSON){const t=r.toJSON();if(t!==r)return m(t)}b(r)}}else zt[Yt++]=246;else if("boolean"===i)zt[Yt++]=r?245:244;else if("bigint"===i){if(r<BigInt(1)<<BigInt(64)&&r>=0)zt[Yt++]=27,Ht.setBigUint64(Yt,r);else if(r>-(BigInt(1)<<BigInt(64))&&r<0)zt[Yt++]=59,Ht.setBigUint64(Yt,-r-BigInt(1));else{if(!this.largeBigIntToFloat){r>=BigInt(0)?zt[Yt++]=194:(zt[Yt++]=195,r=BigInt(-1)-r);let t=[];for(;r;)t.push(Number(r&BigInt(255))),r>>=BigInt(8);return void se(new Uint8Array(t.reverse()),v)}zt[Yt++]=251,Ht.setFloat64(Yt,Number(r))}Yt+=8}else{if("undefined"!==i)throw new Error("Unknown type: "+i);zt[Yt++]=247}},b=!1===this.useRecords?this.variableMapSize?t=>{let e=Object.keys(t),r=Object.values(t),n=e.length;if(n<24?zt[Yt++]=160|n:n<256?(zt[Yt++]=184,zt[Yt++]=n):n<65536?(zt[Yt++]=185,zt[Yt++]=n>>8,zt[Yt++]=255&n):(zt[Yt++]=186,Ht.setUint32(Yt,n),Yt+=4),a.keyMap)for(let t=0;t<n;t++)m(a.encodeKey(e[t])),m(r[t]);else for(let t=0;t<n;t++)m(e[t]),m(r[t])}:t=>{zt[Yt++]=185;let r=Yt-e;Yt+=2;let n=0;if(a.keyMap)for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(m(a.encodeKey(e)),m(t[e]),n++);else for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(m(e),m(t[e]),n++);zt[r+++e]=n>>8,zt[r+e]=255&n}:(t,e)=>{let r,o,s,a=i.transitions||(i.transitions=Object.create(null)),f=0,l=0;if(this.keyMap){s=Object.keys(t).map((t=>this.encodeKey(t))),l=s.length;for(let t=0;t<l;t++){let e=s[t];r=a[e],r||(r=a[e]=Object.create(null),f++),a=r}}else for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(r=a[e],r||(1048576&a[Jt]&&(o=65535&a[Jt]),r=a[e]=Object.create(null),f++),a=r,l++);let c=a[Jt];if(void 0!==c)c&=65535,zt[Yt++]=217,zt[Yt++]=c>>8|224,zt[Yt++]=255&c;else{if(s||(s=a.__keys__||(a.__keys__=Object.keys(t))),void 0===o?(c=i.nextId++,c||(c=0,i.nextId=1),c>=256&&(i.nextId=(c=u)+1)):c=o,i[c]=s,!(c<u)){if(a[Jt]=c,Ht.setUint32(Yt,3655335680),Yt+=3,f&&(g+=w*f),y.length>=256-u&&(y.shift()[Jt]=void 0),y.push(a),te(l+2),m(57344+c),m(s),e)return;for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&m(t[e]);return}zt[Yt++]=217,zt[Yt++]=c>>8|224,zt[Yt++]=255&c,a=i.transitions;for(let t=0;t<l;t++)(void 0===a[Jt]||1048576&a[Jt])&&(a[Jt]=c),a=a[s[t]];a[Jt]=1048576|c,n=!0}if(l<24?zt[Yt++]=128|l:te(l),!e)for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&m(t[e])},v=t=>{let r;if(t>16777216){if(t-e>Ft)throw new Error("Encoded buffer would be larger than maximum buffer size");r=Math.min(Ft,4096*Math.round(Math.max((t-e)*(t>67108864?1.25:2),4194304)/4096))}else r=1+(Math.max(t-e<<2,zt.length-1)>>12)<<12;let n=new Nt(r);return Ht=new DataView(n.buffer,0,r),zt.copy?zt.copy(n,0,e,t):n.set(zt.slice(e,t)),Yt-=e,e=0,Wt=n.length-10,zt=n};let A=100,E=1e3;function*O(t,r,n){let i=t.constructor;if(i===Object){let e=!1!==a.useRecords;e?b(t,!0):Zt(Object.keys(t).length,160);for(let n in t){let i=t[n];e||m(n),i&&"object"==typeof i?r[n]?yield*O(i,r[n]):yield*B(i,r,n):m(i)}}else if(i===Array){let n=t.length;te(n);for(let i=0;i<n;i++){let n=t[i];n&&("object"==typeof n||Yt-e>A)?r.element?yield*O(n,r.element):yield*B(n,r,"element"):m(n)}}else if(t[Symbol.iterator]&&!t.buffer){zt[Yt++]=159;for(let n of t)n&&("object"==typeof n||Yt-e>A)?r.element?yield*O(n,r.element):yield*B(n,r,"element"):m(n);zt[Yt++]=255}else re(t)?(Zt(t.size,64),yield zt.subarray(e,Yt),yield t,I()):t[Symbol.asyncIterator]?(zt[Yt++]=159,yield zt.subarray(e,Yt),yield t,I(),zt[Yt++]=255):m(t);n&&Yt>e?yield zt.subarray(e,Yt):Yt-e>A&&(yield zt.subarray(e,Yt),I())}function*B(t,r,n){let i=Yt-e;try{m(t),Yt-e>A&&(yield zt.subarray(e,Yt),I())}catch(o){if(!o.iteratorNotHandled)throw o;r[n]={},Yt=e+i,yield*O.call(this,t,r[n])}}function I(){A=E,a.encode(null,ye)}function U(t,e,r){return A=e&&e.chunkThreshold?E=e.chunkThreshold:100,t&&"object"==typeof t?(a.encode(null,ye),r(t,a.iterateProperties||(a.iterateProperties={}),!0)):[a.encode(t)]}async function*T(t,e){for(let r of O(t,e,!0)){let t=r.constructor;if(t===$t||t===Uint8Array)yield r;else if(re(r)){let t,e=r.stream().getReader();for(;!(t=await e.read()).done;)yield t.value}else if(r[Symbol.asyncIterator])for await(let t of r)I(),t?yield*T(t,e.async||(e.async={})):yield a.encode(t);else yield r}}this.encodeAsIterable=function(t,e){return U(t,e,O)},this.encodeAsAsyncIterable=function(t,e){return U(t,e,T)}}useBuffer(t){zt=t,Ht=new DataView(zt.buffer,zt.byteOffset,zt.byteLength),Yt=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let t=this.sharedVersion||0;this.sharedVersion=t+1;let e=this.structures.slice(0),r=new Qt(e,this.sharedValues,this.sharedVersion),n=this.saveShared(r,(e=>(e&&e.version||0)==t));return!1===n?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):e.forEach(((t,e)=>this.structures[e]=t)),n}}function Zt(t,e){t<24?zt[Yt++]=e|t:t<256?(zt[Yt++]=24|e,zt[Yt++]=t):t<65536?(zt[Yt++]=25|e,zt[Yt++]=t>>8,zt[Yt++]=255&t):(zt[Yt++]=26|e,Ht.setUint32(Yt,t),Yt+=4)}class Qt{constructor(t,e,r){this.structures=t,this.packedValues=e,this.version=r}}function te(t){t<24?zt[Yt++]=128|t:t<256?(zt[Yt++]=152,zt[Yt++]=t):t<65536?(zt[Yt++]=153,zt[Yt++]=t>>8,zt[Yt++]=255&t):(zt[Yt++]=154,Ht.setUint32(Yt,t),Yt+=4)}const ee="undefined"==typeof Blob?function(){}:Blob;function re(t){if(t instanceof ee)return!0;let e=t[Symbol.toStringTag];return"Blob"===e||"File"===e}function ne(t,e){switch(typeof t){case"string":if(t.length>3){if(e.objectMap[t]>-1||e.values.length>=e.maxValues)return;let r=e.get(t);if(r)2==++r.count&&e.values.push(t);else if(e.set(t,{count:1}),e.samplingPackedValues){let r=e.samplingPackedValues.get(t);r?r.count++:e.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t)if(t instanceof Array)for(let r=0,n=t.length;r<n;r++)ne(t[r],e);else{let n=!e.encoder.useRecords;for(var r in t)t.hasOwnProperty(r)&&(n&&ne(r,e),ne(t[r],e))}break;case"function":console.log(t)}}const ie=1==new Uint8Array(new Uint16Array([1]).buffer)[0];function oe(t,e){return!ie&&e>1&&(t-=4),{tag:t,encode:function(t,e){let r=t.byteLength,n=t.byteOffset||0,i=t.buffer||t;e(Dt?Vt.from(i,n,r):new Uint8Array(i,n,r))}}}function se(t,e){let r=t.byteLength;r<24?zt[Yt++]=64+r:r<256?(zt[Yt++]=88,zt[Yt++]=r):r<65536?(zt[Yt++]=89,zt[Yt++]=r>>8,zt[Yt++]=255&r):(zt[Yt++]=90,Ht.setUint32(Yt,r),Yt+=4),Yt+r>=zt.length&&e(Yt+r),zt.set(t.buffer?t:new Uint8Array(t),Yt),Yt+=r}function ae(t,e){Ht.setUint32(qt.position+t,Yt-qt.position-t+1);let r=qt;qt=null,e(r[0]),e(r[1])}jt=[Date,Set,Error,RegExp,mt,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?function(){}:BigInt64Array,Float32Array,Float64Array,Qt],Pt=[{tag:1,encode(t,e){let r=t.getTime()/1e3;(this.useTimestamp32||0===t.getMilliseconds())&&r>=0&&r<4294967296?(zt[Yt++]=26,Ht.setUint32(Yt,r),Yt+=4):(zt[Yt++]=251,Ht.setFloat64(Yt,r),Yt+=8)}},{tag:258,encode(t,e){e(Array.from(t))}},{tag:27,encode(t,e){e([t.name,t.message])}},{tag:27,encode(t,e){e(["RegExp",t.source,t.flags])}},{getTag:t=>t.tag,encode(t,e){e(t.value)}},{encode(t,e,r){se(t,r)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||Dt&&!1!==this.tagUint8Array))return 64},encode(t,e,r){se(t,r)}},oe(68,1),oe(69,2),oe(70,4),oe(71,8),oe(72,1),oe(77,2),oe(78,4),oe(79,8),oe(85,4),oe(86,8),{encode(t,e){let r=t.packedValues||[],n=t.structures||[];if(r.values.length>0){zt[Yt++]=216,zt[Yt++]=51,te(4);let t=r.values;e(t),te(0),te(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let e=0,r=t.length;e<r;e++)packedObjectMap[t[e]]=e}if(n){Ht.setUint32(Yt,3655335424),Yt+=3;let r=n.slice(0);r.unshift(57344),r.push(new mt(t.version,1399353956)),e(r)}else e(new mt(t.version,1399353956))}}];let fe=new Xt({useRecords:!1});fe.encode,fe.encodeAsIterable,fe.encodeAsAsyncIterable;const{NEVER:ue,ALWAYS:le,DECIMAL_ROUND:ce,DECIMAL_FIT:he}={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},de=512,pe=1024,ye=2048;var ge=i(287),we=i(7);
/*!
 * Open Ordinal API
 *
 * @author   Open Ordinal <https://openordinal.dev>
 * @license  MIT
 * @module   OOAPI
 */
let me,be="",ve="",Ae=[],Ee=[],Oe=[],Be=[],Ie=[],Ue=(new we.EventEmitter,a.MULTI),Te=new Map,ke={};function Le(t){ve=t,ke=void 0,Ue=a.MULTI}function Se(){return null!=ve&&""!=ve||(ve=function(){const t=window.location.pathname.split("/"),e=["content","preview","inscription"];return t.some((t=>e.includes(t)))?t[t.length-1]:""}()),ve}function _e(t){Ue=t}function Re(){return Ue}function Ce(t){ke=t}function Me(){return Te}async function xe(t){return null!=ke&&null==t||(ke=await je(t)),ke}async function Pe(t=Se(),e=be){try{const r=await fetch(_r(`/r/inscription/${t}`,e));if(!r.ok)return null;return await r.json()}catch(t){throw t}}async function je(t=Se(),e=be){const r=await fetch(_r(`/r/metadata/${t}`,e));if(!r.ok)throw new Error("No inscription for Id");const n=await r.json(),i=ge.Buffer.from(n,"hex");return Mt(i)}async function Ve(t,e=-1,r=be){return(await fetch(_r(`/r/sat/${t}/at/${e}`,r))).json()}async function De(t,e=0,r=be){try{const n=await fetch(_r(`/r/sat/${t}/${e}`,r));if(!n.ok)throw new Error("Ord API call was unsuccessful");const i=await n.json(),o=i.ids,s=i.more;return{ids:o,more:s,page:i.page}}catch(t){throw t}}async function Ne(t,e=be){let r=[],n=!0,i=0;for(;n;)await De(t,i,e).then((t=>{null!=t&&(r=r.concat(t.ids),n=t.more,i++)})).catch((t=>{n=!1}));return r}async function $e(t=Se(),e=0,r=be){let n=[],i=!0;try{const o=await fetch(_r(`/r/parents/${t}/${e}`,r));if(!o.ok)throw new Error("Ord API call was unsuccessful");const s=await o.json();n=n.concat(s.ids),i=s.more,e=s.page}catch(t){i=!1}return{ids:n,more:i,page:e}}async function Fe(t=Se(),e=be){let r=[],n=!0,i=0;for(;n;)await $e(t,i,e).then((t=>{null!=t&&(r=r.concat(t.ids),n=t.more,i++)})).catch((t=>{n=!1}));return r}async function Ke(t=Se(),e=0,r=be){let n=[],i=!0;try{const o=await fetch(_r(`/r/children/${t}/${e}`,r));if(!o.ok)throw new Error("Ord API call was unsuccessful");const s=await o.json();n=n.concat(s.ids),i=s.more,e=s.page}catch(t){i=!1}return{ids:n,more:i,page:e}}async function ze(t=Se(),e=be){let r=[],n=!0,i=0;for(;n;)await Ke(t,i,e).then((t=>{null!=t&&(r=r.concat(t.ids),n=t.more,i++)})).catch((t=>{n=!1}));return r}async function He(t=Se(),e=be){let r={};return r.id=t,r}async function We(t=Se(),e=be){let r={};r.id=t;try{const n=await Pe(t,e);r.inscription=n;const i=await Fe(t,e);r.parents=i;const o=await ze(t,e);r.children=o;const s=await Ne(n.sat,e);r.satIds=s;const a=await je(t,e);r.metadata=a}catch(t){throw t}return r}async function Ye(t,e=be){const r=await fetch(_r(`/r/blockinfo/${t}`,e));if(!r.ok){if(404===r.status)throw new Error("Ord API call returned no BlockInfo");throw new Error("Ord API call was unsuccessful")}return r.json()}async function qe(t,e=be){const r=await fetch(_r(`/r/blockhash/${t}`,e));if(!r.ok){if(404===r.status)throw new Error("Ord API call returned no BlockHash");throw new Error("Ord API call was unsuccessful")}return await r.json()}async function Ge(t=be){try{const e=await fetch(_r("/r/blockheight",t));if(!e.ok)throw new Error("Remote API call was unsuccessful");const r=await e.text();return Number(r)}catch(t){throw t}}async function Je(t=be){try{const e=await fetch(_r("/r/blocktime",t));if(!e.ok)throw new Error("Network response was not ok");const r=await e.text();return Number(r)}catch(t){throw t}}async function Xe(t){const e=await Pe(t);return null!==e.sat?(await Ve(e.sat)).id:t}async function Ze(t){let e=new String("/content/");if(t.startsWith(e.toString())){let r=t.substring(e.length);r=await Xe(r),t=e+r}return t}async function Qe(){const t=await fetch("/content/"+ve,{method:"HEAD"});return null!=t.headers.get("X-Sagaverse-Ordinal-API")&&"true"==t.headers.get("X-Sagaverse-Ordinal-API")}async function tr(t){return new Promise(((e,r)=>{void 0!==t?function n(){var i=t.contentDocument||t.contentWindow?.document;if(void 0===i||"complete"!=i.readyState)window.setTimeout(n,100);else{let n=t.contentWindow,o=()=>{let t=n.ooAPI;void 0!==t?t.isReady()?e(t):t.on("ready",(()=>{e(t)})):r("ooAPI not available.")};"complete"==i.readyState?o():n.onload=o}}():r("iframe is invalid")}))}async function er(t){const e=await Ze(t);return await import(e)}async function rr(t){const e=await Ze(t);return await fetch(e)}function nr(t){let e={};return r=>{var n=e[r];return n||(n=t(r),e[r]=n),n}}async function ir(t){var e=new d(t);return Ee.push(e),e}async function or(t){Ee=Ee.filter((e=>e!==t))}async function sr(t){return Ee.find((e=>e.id===t))}async function ar(){return Ee}async function fr(){Ee=[]}async function ur(t){let e;if(t&&""!==t)if("none"==t);else if("number"==typeof t){let r=Number(t);e=Ee[r]??Ee[0]}else"string"==typeof t?e=await sr(t):t instanceof d&&null!=t.id&&(e=await sr(t.id));else e=Ee[0];e!=me&&(await(me?.hide()),me=e,await(me?.show()))}async function lr(){return me}async function cr(t){var e=new p(t);return Oe.push(e),e}async function hr(t){Oe=Oe.filter((e=>e!==t))}async function dr(t){return Oe.find((e=>e.id===t))}async function pr(){return Oe}async function yr(){Oe=[]}async function gr(t){var e=new y(t);return Be.push(e),e}async function wr(t){Be=Be.filter((e=>e!==t))}async function mr(t){return Be.find((e=>e.id===t))}async function br(){return Be}async function vr(){Be=[]}async function Ar(t){var e=new g(t);return Ie.push(e),e}async function Er(t){Ie=Ie.filter((e=>e!==t))}async function Or(t){return Ie.find((e=>e.id===t))}async function Br(){return Ie}async function Ir(){Ie=[]}async function Ur(t){var e=new O(t);return Ae.push(e),e}async function Tr(t){return Ae.find((e=>e.id===t))}async function kr(){return Ae}async function Lr(t){Ae=Ae.filter((e=>e!==t))}async function Sr(){Ae=[]}function _r(t,e){return t.includes("http")?t:`${e}${t}`}be=function(){const t=window.location.pathname.split("/"),e=["content","preview","inscription","r"];let r=[];if(t.some((t=>e.includes(t)))){for(let n=0;n<t.length&&!e.includes(t[n]);n++)r.push(t[n]);return r.join("/")}return window.location.origin}(),function(){try{new URLSearchParams(window.location.search).forEach(((t,e)=>{Te.set(e.toLowerCase(),t.toLowerCase())}))}catch(t){console.error("Error parsing URL parameters:",t)}}(),
/*!
 * Open Ordinal API
 *
 * @author   Open Ordinal <https://openordinal.dev>
 * @license  MIT
 * @module   OOAPI
 */
window.ooAPI=l;var Rr=o.Artist,Cr=o.Asset,Mr=o.Audio,xr=o.Collection,Pr=o.Composition,jr=o.Image,Vr=o.OOMD,Dr=o.Ordinal,Nr=o.OrdinalType,$r=o.Release,Fr=o.Sprite,Kr=o.SpriteAnimation,zr=o.SpriteType,Hr=o.Track,Wr=o.Trait,Yr=o.Variant,qr=o.Video,Gr=o.addAsset,Jr=o.addCollection,Xr=o.addComposition,Zr=o.addTrait,Qr=o.addVariant,tn=o.cached,en=o.clearAssets,rn=o.clearCollections,nn=o.clearCompositions,on=o.clearTraits,sn=o.clearVariants,an=o.fetchLatest,fn=o.getAll,un=o.getAsset,ln=o.getAssets,cn=o.getBlockHash,hn=o.getBlockHeight,dn=o.getBlockInfo,pn=o.getBlockTime,yn=o.getChildrenAll,gn=o.getChildrenPage,wn=o.getCollection,mn=o.getCollections,bn=o.getComposition,vn=o.getCompositions,An=o.getDisplayedVariant,En=o.getId,On=o.getInscription,Bn=o.getLatestId,In=o.getLatestPath,Un=o.getMetadata,Tn=o.getOOMD,kn=o.getOrdinalApiFromIFrame,Ln=o.getParentsAll,Sn=o.getParentsPage,_n=o.getRequestParams,Rn=o.getSatAll,Cn=o.getSatAt,Mn=o.getSatPage,xn=o.getTrait,Pn=o.getTraits,jn=o.getType,Vn=o.getVariant,Dn=o.getVariants,Nn=o.importLatest,$n=o.isOrdinalAPIExtensionsAvailable,Fn=o.removeAsset,Kn=o.removeCollection,zn=o.removeComposition,Hn=o.removeTrait,Wn=o.removeVariant,Yn=o.setDisplayedVariant,qn=o.setId,Gn=o.setMetadata,Jn=o.setType;export{Rr as Artist,Cr as Asset,Mr as Audio,xr as Collection,Pr as Composition,jr as Image,Vr as OOMD,Dr as Ordinal,Nr as OrdinalType,$r as Release,Fr as Sprite,Kr as SpriteAnimation,zr as SpriteType,Hr as Track,Wr as Trait,Yr as Variant,qr as Video,Gr as addAsset,Jr as addCollection,Xr as addComposition,Zr as addTrait,Qr as addVariant,tn as cached,en as clearAssets,rn as clearCollections,nn as clearCompositions,on as clearTraits,sn as clearVariants,an as fetchLatest,fn as getAll,un as getAsset,ln as getAssets,cn as getBlockHash,hn as getBlockHeight,dn as getBlockInfo,pn as getBlockTime,yn as getChildrenAll,gn as getChildrenPage,wn as getCollection,mn as getCollections,bn as getComposition,vn as getCompositions,An as getDisplayedVariant,En as getId,On as getInscription,Bn as getLatestId,In as getLatestPath,Un as getMetadata,Tn as getOOMD,kn as getOrdinalApiFromIFrame,Ln as getParentsAll,Sn as getParentsPage,_n as getRequestParams,Rn as getSatAll,Cn as getSatAt,Mn as getSatPage,xn as getTrait,Pn as getTraits,jn as getType,Vn as getVariant,Dn as getVariants,Nn as importLatest,$n as isOrdinalAPIExtensionsAvailable,Fn as removeAsset,Kn as removeCollection,zn as removeComposition,Hn as removeTrait,Wn as removeVariant,Yn as setDisplayedVariant,qn as setId,Gn as setMetadata,Jn as setType};
//# sourceMappingURL=open-ordinal-api.min.js.map