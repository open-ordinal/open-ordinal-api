/*! 
* Open Ordinal API 0.9.1
*/var t,e,r={654:(t,e)=>{
/*!
 * Open Ordinal Metadata
 *
 * @author   Open Ordinal <https://openordinal.dev>
 * @license  MIT
 */
Object.defineProperty(e,"__esModule",{value:!0})},526:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,o=a(t),s=o[0],f=o[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,s,f)),l=0,c=f>0?s-4:s;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===f&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===f&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(f(t,a,a+s>u?u:a+s));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},287:(t,e,r)=>{
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
const n=r(526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=f,e.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,f.prototype),e}function f(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return c(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|y(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);const i=function(t){if(f.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?a(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c(t){return l(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,f.prototype),n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,r);case"utf8":case"utf-8":return U(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return L(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let o,s=1,a=t.length,f=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,f/=2,r/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(t,o)===u(e,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===f)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+f>a&&(r=a-f),o=r;o>=0;o--){let r=!0;for(let n=0;n<f;n++)if(u(t,o+n)!==u(e,n)){r=!1;break}if(r)return o}return-1}function v(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=e.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(e.substr(2*s,2),16);if(J(n))return s;t[r+s]=n}return s}function A(t,e,r,n){return q(W(e,t.length-r),t,r,n)}function E(t,e,r,n){return q(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function O(t,e,r,n){return q(Y(e),t,r,n)}function B(t,e,r,n){return q(function(t,e){let r,n,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function U(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=r){let r,n,a,f;switch(s){case 1:e<128&&(o=e);break;case 2:r=t[i+1],128==(192&r)&&(f=(31&e)<<6|63&r,f>127&&(o=f));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(f=(15&e)<<12|(63&r)<<6|63&n,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(f=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),f.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},f.allocUnsafe=function(t){return c(t)},f.allocUnsafeSlow=function(t){return c(t)},f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=f.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(f.isBuffer(e)||(e=f.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!f.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},f.byteLength=y,f.prototype._isBuffer=!0,f.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)w(this,e,e+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},f.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?U(this,0,t):g.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},o&&(f.prototype[o]=f.prototype.inspect),f.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==l[t]){o=u[t],s=l[t];break}return o<s?-1:s<o?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,t,e,r);case"utf8":case"utf-8":return A(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return O(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function k(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function L(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=X[t[n]];return i}function _(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,r}function x(t,e,r,n,i){F(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o>>=8,t[r+6]=o,o>>=8,t[r+5]=o,o>>=8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s>>=8,t[r+2]=s,s>>=8,t[r+1]=s,s>>=8,t[r]=s,r+8}function P(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,o){return e=+e,r>>>=0,o||P(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,o){return e=+e,r>>>=0,o||P(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,f.prototype),n},f.prototype.readUintLE=f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},f.prototype.readUint8=f.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),f.prototype.readBigUInt64BE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=this[t],i=1,o=0;for(;++o<e&&(i*=256);)n+=this[t+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||R(t,e,this.length);let n=e,i=1,o=this[t+--n];for(;n>0&&(i*=256);)o+=this[t+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},f.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),f.prototype.readBigInt64BE=Z((function(t){K(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||z(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),f.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigUInt64LE=Z((function(t,e=0){return M(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeBigUInt64BE=Z((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),f.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=0,o=1,s=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,t,e,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeBigInt64LE=Z((function(t,e=0){return M(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeBigInt64BE=Z((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),f.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const o=f.isBuffer(t)?t:f.from(t,n),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=o[i%s]}return this};const D={};function N(t,e,r){D[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function $(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function F(t,e,r,n,i,o){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){K(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||z(e,t.length-(r+1))}(n,i,o)}function K(t,e){if("number"!=typeof t)throw new D.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,r){if(Math.floor(t)!==t)throw K(t,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}N("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),N("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),N("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=$(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=$(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Y(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},7:t=>{var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&y(t,"error",e,r)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function f(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,o,s,u;if(a(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"==typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=f(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function h(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function y(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var f=o[t];if(void 0===f)return!1;if("function"==typeof f)n(f,this,e);else{var u=f.length,l=p(f,u);for(r=0;r<u;++r)n(l[r],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},251:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,f=(1<<a)-1,u=f>>1,l=-7,c=r?i-1:0,h=r?-1:1,d=t[e+c];for(c+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+c],c+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+t[e+c],c+=h,l-=8);if(0===o)o=1-u;else{if(o===f)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,f,u=8*o-i-1,l=(1<<u)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),(e+=s+c>=1?h/f:h*Math.pow(2,1-c))*f>=2&&(s++,f/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*f-1)*Math.pow(2,i),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+d]=255&s,d+=p,s/=256,u-=8);t[r+d-p]|=128*y}}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var o=n[t]={exports:{}};return r[t](o,o.exports,i),o.exports}e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>r[t]));return s.default=()=>r,i.d(o,s),o},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{Artist:()=>S,Asset:()=>y,Audio:()=>m,Collection:()=>O,Composition:()=>p,Image:()=>b,OOMD:()=>U,Ordinal:()=>w,OrdinalType:()=>a,Release:()=>L,Sprite:()=>E,SpriteAnimation:()=>A,SpriteType:()=>u,Track:()=>k,Trait:()=>g,Variant:()=>d,Video:()=>v,addAsset:()=>dr,addCollection:()=>Or,addComposition:()=>fr,addTrait:()=>mr,addVariant:()=>er,cached:()=>tr,clearAssets:()=>wr,clearCollections:()=>Tr,clearCompositions:()=>hr,clearTraits:()=>Er,clearVariants:()=>or,fetchLatest:()=>Qe,getAll:()=>Ke,getAsset:()=>yr,getAssets:()=>gr,getBlockHash:()=>He,getBlockHeight:()=>We,getBlockInfo:()=>ze,getBlockTime:()=>Ye,getChildrenAll:()=>$e,getChildrenPage:()=>Ne,getCollection:()=>Br,getCollections:()=>Ir,getComposition:()=>lr,getCompositions:()=>cr,getDisplayedVariant:()=>ar,getId:()=>Te,getInscription:()=>Ce,getLatestId:()=>qe,getLatestPath:()=>Ge,getMetadata:()=>Re,getOOMD:()=>Fe,getOrdinalApiFromIFrame:()=>Xe,getParentsAll:()=>De,getParentsPage:()=>Ve,getRequestParams:()=>_e,getSatAll:()=>je,getSatAt:()=>xe,getSatPage:()=>Pe,getTrait:()=>vr,getTraits:()=>Ar,getType:()=>Le,getVariant:()=>nr,getVariants:()=>ir,importLatest:()=>Ze,isOrdinalAPIExtensionsAvailable:()=>Je,removeAsset:()=>pr,removeCollection:()=>Ur,removeComposition:()=>ur,removeTrait:()=>br,removeVariant:()=>rr,setDisplayedVariant:()=>sr,setId:()=>Ue,setMetadata:()=>Se,setType:()=>ke});var s,a,f,u,l={};function c(t){if(t instanceof Blob)return s.BLOB;if("string"==typeof t)return t.startsWith("data:")?s.DATA:t.startsWith("blob:")?s.BLOB:s.ORDINAL;throw new Error("Unsupported export type")}i.r(l),i.d(l,{Artist:()=>S,Asset:()=>y,Audio:()=>m,Collection:()=>O,Composition:()=>p,Image:()=>b,OOMD:()=>U,Ordinal:()=>w,OrdinalType:()=>a,Release:()=>L,Sprite:()=>E,SpriteAnimation:()=>A,SpriteType:()=>u,Track:()=>k,Trait:()=>g,Variant:()=>d,Video:()=>v,addAsset:()=>dr,addCollection:()=>Or,addComposition:()=>fr,addTrait:()=>mr,addVariant:()=>er,cached:()=>tr,clearAssets:()=>wr,clearCollections:()=>Tr,clearCompositions:()=>hr,clearTraits:()=>Er,clearVariants:()=>or,fetchLatest:()=>Qe,getAll:()=>Ke,getAsset:()=>yr,getAssets:()=>gr,getBlockHash:()=>He,getBlockHeight:()=>We,getBlockInfo:()=>ze,getBlockTime:()=>Ye,getChildrenAll:()=>$e,getChildrenPage:()=>Ne,getCollection:()=>Br,getCollections:()=>Ir,getComposition:()=>lr,getCompositions:()=>cr,getDisplayedVariant:()=>ar,getId:()=>Te,getInscription:()=>Ce,getLatestId:()=>qe,getLatestPath:()=>Ge,getMetadata:()=>Re,getOOMD:()=>Fe,getOrdinalApiFromIFrame:()=>Xe,getParentsAll:()=>De,getParentsPage:()=>Ve,getRequestParams:()=>_e,getSatAll:()=>je,getSatAt:()=>xe,getSatPage:()=>Pe,getTrait:()=>vr,getTraits:()=>Ar,getType:()=>Le,getVariant:()=>nr,getVariants:()=>ir,importLatest:()=>Ze,isOrdinalAPIExtensionsAvailable:()=>Je,removeAsset:()=>pr,removeCollection:()=>Ur,removeComposition:()=>ur,removeTrait:()=>br,removeVariant:()=>rr,setDisplayedVariant:()=>sr,setId:()=>Ue,setMetadata:()=>Se,setType:()=>ke}),function(t){t.ORDINAL="ordinal",t.DATA="data",t.BLOB="blob",t.RENDERER="renderer"}(s||(s={}));class h{constructor(t){this.onExport=t}canExport(){return void 0!==this.onExport}async export(){if(!this.onExport)throw new Error("Nothing to export!");const t=await this.onExport();if(t instanceof Blob)return URL.createObjectURL(t);switch(c(t)){case s.BLOB:case s.DATA:return t;case s.ORDINAL:return"/content/"+t;case s.RENDERER:throw new Error("Renderer export type is not supported")}}}class d extends h{constructor(t){super(t.onExport),this.type=t.type,this.id=t.id,this.name=t.name,this.onDisplay=t.onDisplay,this.onHide=t.onHide}async show(){if(this.onDisplay)await this.onDisplay();else if(this.onExport){const t=await this.onExport();if(c(t)===s.ORDINAL){const e=document.createElement("iframe");e.src=`/preview/${t}`,e.frameBorder="0",e.style.border="none",e.style.outline="none",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0",e.style.margin="0",e.style.padding="0",e.style.zIndex="999999",e.scrolling="no",document.body.style.border="0",document.body.appendChild(e)}}}async hide(){this.onHide?await this.onHide():this.canExport()&&(document.body.innerHTML="")}}class p extends h{constructor(t){super(t.onExport),this.id=t.id,this.name=t.name}}class y{constructor(t){this.id=t.id,this.type=t.type,this.name=t.name,"string"==typeof t.data?this.data=async()=>t.data:this.data=t.data}getType(){return this.type}getName(){return this.name}getId(){return this.id}async getData(){return this.data?await this.data():null}}class g{constructor(t){this.id=t.id,this.name=t.name,this.value=t.value}}!function(t){t.AUDIO="audio",t.VIDEO="video",t.IMAGE="image",t.MODEL="3dmodel",t.TEXT="text",t.MULTI="multi"}(a||(a={}));class w{constructor(t={}){this.id=t.id??"",this.transactionStamp=t.transactionStamp??null,this.info=t.info??null,this.metaData=t.metaData??null}getId(){return this.id}getTransactionStamp(){return this.transactionStamp}getInfo(){return this.info}getMetaData(){return this.metaData}}!function(t){t.Album="Album",t.Artist="Artist",t.Track="Track"}(f||(f={}));class m{constructor(t={}){this.url=t.url,this.type=t.type}getUrl(){return this.url}getType(){return this.type}}class b{constructor(t={}){this.url=t.url,this.width=t.width,this.height=t.height,this.description=t.description}getUrl(){return this.url}getWidth(){return this.width}getHeight(){return this.height}getDescription(){return this.description}}class v{constructor(t={}){this.url=t.url,this.duration=t.duration,this.format=t.format,this.resolution=t.resolution}getUrl(){return this.url}getDuration(){return this.duration}getFormat(){return this.format}getResolution(){return this.resolution}}!function(t){t.GridByCell="gridbycell"}(u||(u={}));class A{constructor(t){this.name=t.name,this.frames=t.frames,this.loop=t.loop??!0}}class E{constructor(t){this.rows=1,this.cells=1,this.offset={x:0,y:0},this.padding={x:0,y:0},this.type=u.GridByCell,this.rows=t.rows,this.cells=t.cells,this.offset=t.offset??this.offset,this.padding=t.padding??this.padding,this.source=new h(t.sourceExport),this.actions=t.actions}}class O{constructor(t){this.collectionTraits=[],this.id=t.id,this.name=t.name,this.description=t.description,this.collectionTraits=(t.collectionTraits||[]).map((t=>new B(t)))}addTraitCategory(t){this.collectionTraits.push(new B(t))}}class B{constructor(t){this.id=t.id,this.name=t.name,this.traitNames=t.traitNames}}var I=i(654),U=i.t(I,2);const T={};class k{constructor(){this.title="",this.artists=[],this.release=new L,this.duration=0,this.audioURL="",this._loaded=!0,this.mm={}}static async _load(t){let e=new k;e._loaded=!1,e.id=await qe(t);let r=await Re(e.id),n="object"==typeof r?.track?r.track:r;e.mm="object"==typeof r?.media?r.media:r,e.duration=e.mm?.duration??0,e.title=n?.title??`<${e.id}>`;const i=n?.releases&&n.releases[0];if(i)if("string"==typeof i){const t=new L;t.title=i,e.release=t}else{const t="@id"in i&&i["@id"];if(t){const r=await L.load(t);e.release=r}else{const t=new L;Object.assign(t,i),e.release=t}}else{const t=await De(e.id);e.release=await L.load(t[0])}const o=n?.artists;if(o)for(var s of o)if("string"==typeof s){const t=new S;t.name=s,e.artists.push(t)}else{const t="@id"in s&&s["@id"];if(t){const r=await S.load(t);e.artists.push(r)}else{const t=new S;Object.assign(t,s),e.artists.push(t)}}else e.artists=e.release.artists;return e}async loadData(){if(this._loaded)return this;let t=this.mm.decoder;if(t&&"@id"in t){const e=await async function(t){return null==T[t]&&(T[t]=import(`/content/${t}`)),(await T[t]).default}(t["@id"]),r=await fetch(`/content/${this.id}`),n=await e(await r.arrayBuffer(),this.mm);if(n.audioBuffer){const t=function(t){let e,r,n=t.numberOfChannels,i=t.length*n*2+44,o=new ArrayBuffer(i),s=new DataView(o),a=[],f=0,u=0;for(c(1179011410),c(i-8),c(1163280727),c(544501094),c(16),l(1),l(n),c(t.sampleRate),c(2*t.sampleRate*n),l(2*n),l(16),c(1635017060),c(i-u-4),e=0;e<t.numberOfChannels;e++)a.push(t.getChannelData(e));for(;u<i;){for(e=0;e<n;e++)r=Math.max(-1,Math.min(1,a[e][f])),r=0|(.5+r<0?32768*r:32767*r),s.setInt16(u,r,!0),u+=2;f++}return o;function l(t){s.setUint16(u,t,!0),u+=2}function c(t){s.setUint32(u,t,!0),u+=4}}(await n.audioBuffer()),e=new Blob([t],{type:"audio/wav"});this.audioURL=URL.createObjectURL(e)}}else if(t&&"@sat"in t);else{const t=`/content/${this.id}`,e=new Audio(t);await new Promise(((t,r)=>{e.onloadedmetadata=()=>t()})),this.duration=e.duration,this.audioURL=t}return this._loaded=!0,this}}k.load=tr(k._load);class L{constructor(){this.title="",this.type="",this.date=new Date,this.artists=[],this.coverURL="",this.tracks=[],this._loaded=!0}static async _load(t){const e=new L;e._loaded=!1,e.id=await qe(t);let r=await Re(e.id),n="object"==typeof r?.release?r.release:r;e._tracks=n.tracks,e.title=n.title??`<${e.id}>`,e.type=n.type??"collection";const i=n.artists;if(i)for(let t of i)if("string"==typeof t){const r=new S;r.name=t,e.artists.push(r)}else{const r="@id"in t&&t["@id"];if(r){const t=await S.load(r);e.artists.push(t)}else{const r=new S;Object.assign(r,t),e.artists.push(r)}}else{const t=await De(e.id);for(let r of t){const t=await S.load(r);e.artists.push(t)}}const o=await Ce(e.id);return e.date=new Date(n.date??1e3*(o.timestamp??0)),e.coverURL=n.cover&&"@id"in n.cover?`/content/${n.cover["@id"]}`:L.fallbackCover,e}get artist(){return this.artists[0]}get year(){return this.date.getFullYear()}get duration(){var t=0;for(var e of this.tracks)t+=e.duration;return t}async loadData(){if(this._loaded)return this;const t=this._tracks;if(t)for(let e of t){const t="@id"in e&&e["@id"];if(t){const e=await k.load(t);this.tracks.push(e)}else{const t=new k;Object.assign(t,e),this.tracks.push(t)}}else{const t=await $e(this.id);for(let e of t){const t=await k.load(e);this.tracks.push(t)}}return this._loaded=!0,this}}L.fallbackCover="",L.load=tr(L._load);class S{constructor(){this.name="",this.releases=[],this._loaded=!0}static async _load(t){const e=new S;e._loaded=!1,e.id=await qe(t);let r=await Re(e.id);return e.md="object"==typeof r?.artist?r.artist:r,e.name=e.md?.name??`<${e.id}>`,e}async loadData(){if(this._loaded)return this;let t=this.md?.releases;if(t)for(var e of t){const t="@id"in e&&e["@id"];if(t){const e=await L.load(t);this.releases.push(e)}else{const t=new L;Object.assign(t,e),0==t.artists.length&&t.artists.push(this),this.releases.push(t)}}else for(var r of await $e(this.id)){const t=await L.load(r);this.releases.push(t)}return this._loaded=!0,this}get releaseTypes(){const t={};for(const e of this.releases)t[e.type]=!0;return Object.keys(t)}get duration(){var t=0;for(var e of this.tracks)t+=e.duration;return t}get tracks(){return this.releases.flatMap((t=>t.tracks))}}let _,R,C;S.load=tr(S._load);try{_=new TextDecoder}catch(t){}let M=0;const x=[],P={};let j,V,D,N,$,F,K,z=11281e4,H=1681e4,W=x,Y=0,q={},G=0,J=0,X=[],Z=[],Q={useRecords:!1,mapsAsObjects:!0},tt=!1,et=2;try{new Function("")}catch(t){et=1/0}class rt{constructor(t){if(t&&(!t.keyMap&&!t._keyMap||t.useRecords||(t.useRecords=!1,t.mapsAsObjects=!0),!1===t.useRecords&&void 0===t.mapsAsObjects&&(t.mapsAsObjects=!0),t.getStructures&&(t.getShared=t.getStructures),t.getShared&&!t.structures&&((t.structures=[]).uninitialized=!0),t.keyMap)){this.mapKey=new Map;for(let[e,r]of Object.entries(t.keyMap))this.mapKey.set(r,e)}Object.assign(this,t)}decodeKey(t){return this.keyMap&&this.mapKey.get(t)||t}encodeKey(t){return this.keyMap&&this.keyMap.hasOwnProperty(t)?this.keyMap[t]:t}encodeKeys(t){if(!this._keyMap)return t;let e=new Map;for(let[r,n]of Object.entries(t))e.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,n);return e}decodeKeys(t){if(!this._keyMap||"Map"!=t.constructor.name)return t;if(!this._mapKey){this._mapKey=new Map;for(let[t,e]of Object.entries(this._keyMap))this._mapKey.set(e,t)}let e={};return t.forEach(((t,r)=>e[at(this._mapKey.has(r)?this._mapKey.get(r):r)]=t)),e}mapDecode(t,e){let r=this.decode(t);return this._keyMap&&"Array"===r.constructor.name?r.map((t=>this.decodeKeys(t))):r}decode(t,e){if(R)return Tt((()=>(kt(),this?this.decode(t,e):rt.prototype.decode.call(Q,t,e))));C=e>-1?e:t.length,M=0,Y=0,J=0,V=null,W=x,D=null,R=t;try{F=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(e){if(R=null,t instanceof Uint8Array)throw e;throw new Error("Source must be a Uint8Array or Buffer but was a "+(t&&"object"==typeof t?t.constructor.name:typeof t))}if(this instanceof rt){if(q=this,$=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return j=this.structures,nt();(!j||j.length>0)&&(j=[])}else q=Q,(!j||j.length>0)&&(j=[]),$=null;return nt()}decodeMultiple(t,e){let r,n=0;try{let i=t.length;tt=!0;let o=this?this.decode(t,i):St.decode(t,i);if(!e){for(r=[o];M<i;)n=M,r.push(nt());return r}if(!1===e(o))return;for(;M<i;)if(n=M,!1===e(nt()))return}catch(t){throw t.lastPosition=n,t.values=r,t}finally{tt=!1,kt()}}}function nt(){try{let t=it();if(D){if(M>=D.postBundlePosition){let t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}M=D.postBundlePosition,D=null}if(M==C)j=null,R=null,N&&(N=null);else{if(M>C){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}if(!tt)throw new Error("Data read, but end of buffer not reached")}return t}catch(t){throw kt(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function it(){let t=R[M++],e=t>>5;if(t&=31,t>23)switch(t){case 24:t=R[M++];break;case 25:if(7==e)return function(){let t=R[M++],e=R[M++],r=(127&t)>>2;if(31===r)return e||3&t?NaN:128&t?-1/0:1/0;if(0===r){let r=((3&t)<<8|e)/(1<<24);return 128&t?-r:r}return pt[3]=128&t|56+(r>>1),pt[2]=(7&t)<<5|e>>3,pt[1]=e<<5,pt[0]=0,dt[0]}();t=F.getUint16(M),M+=2;break;case 26:if(7==e){let t=F.getFloat32(M);if(q.useFloat32>2){let e=Lt[(127&R[M])<<1|R[M+1]>>7];return M+=4,(e*t+(t>0?.5:-.5)|0)/e}return M+=4,t}t=F.getUint32(M),M+=4;break;case 27:if(7==e){let t=F.getFloat64(M);return M+=8,t}if(e>1){if(F.getUint32(M)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=F.getUint32(M+4)}else q.int64AsNumber?(t=4294967296*F.getUint32(M),t+=F.getUint32(M+4)):t=F.getBigUint64(M);M+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let t,r=[],n=0;for(;(t=it())!=P;){if(n>=z)throw new Error(`Array length exceeds ${z}`);r[n++]=t}return 4==e?r:3==e?r.join(""):Buffer.concat(r);case 5:let i;if(q.mapsAsObjects){let t={},e=0;if(q.keyMap)for(;(i=it())!=P;){if(e++>=H)throw new Error(`Property count exceeds ${H}`);t[at(q.decodeKey(i))]=it()}else for(;(i=it())!=P;){if(e++>=H)throw new Error(`Property count exceeds ${H}`);t[at(i)]=it()}return t}{K&&(q.mapsAsObjects=!0,K=!1);let t=new Map;if(q.keyMap){let e=0;for(;(i=it())!=P;){if(e++>=H)throw new Error(`Map size exceeds ${H}`);t.set(q.decodeKey(i),it())}}else{let e=0;for(;(i=it())!=P;){if(e++>=H)throw new Error(`Map size exceeds ${H}`);t.set(i,it())}}return t}case 7:return P;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+t)}switch(e){case 0:return t;case 1:return~t;case 2:return r=t,q.copyBuffers?Uint8Array.prototype.slice.call(R,M,M+=r):R.subarray(M,M+=r);case 3:if(J>=M)return V.slice(M-G,(M+=t)-G);if(0==J&&C<140&&t<32){let e=t<16?ht(t):ct(t);if(null!=e)return e}return ft(t);case 4:if(t>=z)throw new Error(`Array length exceeds ${z}`);let e=new Array(t);for(let r=0;r<t;r++)e[r]=it();return e;case 5:if(t>=H)throw new Error(`Map size exceeds ${z}`);if(q.mapsAsObjects){let e={};if(q.keyMap)for(let r=0;r<t;r++)e[at(q.decodeKey(it()))]=it();else for(let r=0;r<t;r++)e[at(it())]=it();return e}{K&&(q.mapsAsObjects=!0,K=!1);let e=new Map;if(q.keyMap)for(let r=0;r<t;r++)e.set(q.decodeKey(it()),it());else for(let r=0;r<t;r++)e.set(it(),it());return e}case 6:if(t>=57337){let e=j[8191&t];if(e)return e.read||(e.read=st(e)),e.read();if(t<65536){if(57343==t){let t=It(),e=it(),r=it();gt(e,r);let n={};if(q.keyMap)for(let e=2;e<t;e++){n[at(q.decodeKey(r[e-2]))]=it()}else for(let e=2;e<t;e++){n[at(r[e-2])]=it()}return n}if(57342==t){let t=It(),e=it();for(let r=2;r<t;r++)gt(e++,it());return it()}if(57337==t)return function(){let t=It(),e=M+it();for(let e=2;e<t;e++){let t=It();M+=t}let r=M;return M=e,D=[ut(It()),ut(It())],D.position0=0,D.position1=0,D.postBundlePosition=M,M=r,it()}();if(q.getShared&&(Ut(),e=j[8191&t],e))return e.read||(e.read=st(e)),e.read()}}let n=X[t];if(n)return n.handlesRead?n(it):n(it());{let e=it();for(let r=0;r<Z.length;r++){let n=Z[r](t,e);if(void 0!==n)return n}return new yt(e,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:let e=($||vt())[t];if(void 0!==e)return e;throw new Error("Unknown token "+t)}default:if(isNaN(t)){let t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}throw new Error("Unknown CBOR token "+t)}var r}const ot=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function st(t){if(!t)throw new Error("Structure is required in record definition");return t.slowReads=0,function(){let t=R[M++];if(t&=31,t>23)switch(t){case 24:t=R[M++];break;case 25:t=F.getUint16(M),M+=2;break;case 26:t=F.getUint32(M),M+=4;break;default:throw new Error("Expected array header, but got "+R[M-1])}let e=this.compiledReader;for(;e;){if(e.propertyCount===t)return e(it);e=e.next}if(this.slowReads++>=et){let r=this.length==t?this:this.slice(0,t);return e=q.keyMap?new Function("r","return {"+r.map((t=>q.decodeKey(t))).map((t=>ot.test(t)?at(t)+":r()":"["+JSON.stringify(t)+"]:r()")).join(",")+"}"):new Function("r","return {"+r.map((t=>ot.test(t)?at(t)+":r()":"["+JSON.stringify(t)+"]:r()")).join(",")+"}"),this.compiledReader&&(e.next=this.compiledReader),e.propertyCount=t,this.compiledReader=e,e(it)}let r={};if(q.keyMap)for(let e=0;e<t;e++)r[at(q.decodeKey(this[e]))]=it();else for(let e=0;e<t;e++)r[at(this[e])]=it();return r}}function at(t){if("string"==typeof t)return"__proto__"===t?"__proto_":t;if("number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t.toString();if(null==t)return t+"";throw new Error("Invalid property name type "+typeof t)}let ft=ut;function ut(t){let e;if(t<16&&(e=ht(t)))return e;if(t>64&&_)return _.decode(R.subarray(M,M+=t));const r=M+t,n=[];for(e="";M<r;){const t=R[M++];if(128&t)if(192==(224&t)){const e=63&R[M++];n.push((31&t)<<6|e)}else if(224==(240&t)){const e=63&R[M++],r=63&R[M++];n.push((31&t)<<12|e<<6|r)}else if(240==(248&t)){let e=(7&t)<<18|(63&R[M++])<<12|(63&R[M++])<<6|63&R[M++];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}else n.push(t);else n.push(t);n.length>=4096&&(e+=lt.apply(String,n),n.length=0)}return n.length>0&&(e+=lt.apply(String,n)),e}let lt=String.fromCharCode;function ct(t){let e=M,r=new Array(t);for(let n=0;n<t;n++){const t=R[M++];if((128&t)>0)return void(M=e);r[n]=t}return lt.apply(String,r)}function ht(t){if(t<4){if(t<2){if(0===t)return"";{let t=R[M++];return(128&t)>1?void(M-=1):lt(t)}}{let e=R[M++],r=R[M++];if((128&e)>0||(128&r)>0)return void(M-=2);if(t<3)return lt(e,r);let n=R[M++];return(128&n)>0?void(M-=3):lt(e,r,n)}}{let e=R[M++],r=R[M++],n=R[M++],i=R[M++];if((128&e)>0||(128&r)>0||(128&n)>0||(128&i)>0)return void(M-=4);if(t<6){if(4===t)return lt(e,r,n,i);{let t=R[M++];return(128&t)>0?void(M-=5):lt(e,r,n,i,t)}}if(t<8){let o=R[M++],s=R[M++];if((128&o)>0||(128&s)>0)return void(M-=6);if(t<7)return lt(e,r,n,i,o,s);let a=R[M++];return(128&a)>0?void(M-=7):lt(e,r,n,i,o,s,a)}{let o=R[M++],s=R[M++],a=R[M++],f=R[M++];if((128&o)>0||(128&s)>0||(128&a)>0||(128&f)>0)return void(M-=8);if(t<10){if(8===t)return lt(e,r,n,i,o,s,a,f);{let t=R[M++];return(128&t)>0?void(M-=9):lt(e,r,n,i,o,s,a,f,t)}}if(t<12){let u=R[M++],l=R[M++];if((128&u)>0||(128&l)>0)return void(M-=10);if(t<11)return lt(e,r,n,i,o,s,a,f,u,l);let c=R[M++];return(128&c)>0?void(M-=11):lt(e,r,n,i,o,s,a,f,u,l,c)}{let u=R[M++],l=R[M++],c=R[M++],h=R[M++];if((128&u)>0||(128&l)>0||(128&c)>0||(128&h)>0)return void(M-=12);if(t<14){if(12===t)return lt(e,r,n,i,o,s,a,f,u,l,c,h);{let t=R[M++];return(128&t)>0?void(M-=13):lt(e,r,n,i,o,s,a,f,u,l,c,h,t)}}{let d=R[M++],p=R[M++];if((128&d)>0||(128&p)>0)return void(M-=14);if(t<15)return lt(e,r,n,i,o,s,a,f,u,l,c,h,d,p);let y=R[M++];return(128&y)>0?void(M-=15):lt(e,r,n,i,o,s,a,f,u,l,c,h,d,p,y)}}}}}let dt=new Float32Array(1),pt=new Uint8Array(dt.buffer,0,4);new Array(4096);class yt{constructor(t,e){this.value=t,this.tag=e}}X[0]=t=>new Date(t),X[1]=t=>new Date(Math.round(1e3*t)),X[2]=t=>{let e=BigInt(0);for(let r=0,n=t.byteLength;r<n;r++)e=BigInt(t[r])+(e<<BigInt(8));return e},X[3]=t=>BigInt(-1)-X[2](t),X[4]=t=>+(t[1]+"e"+t[0]),X[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));const gt=(t,e)=>{let r=j[t-=57344];r&&r.isShared&&((j.restoreStructures||(j.restoreStructures=[]))[t]=r),j[t]=e,e.read=st(e)};X[105]=t=>{let e=t.length,r=t[1];gt(t[0],r);let n={};for(let i=2;i<e;i++){n[at(r[i-2])]=t[i]}return n},X[14]=t=>D?D[0].slice(D.position0,D.position0+=t):new yt(t,14),X[15]=t=>D?D[1].slice(D.position1,D.position1+=t):new yt(t,15);let wt={Error,RegExp};X[27]=t=>(wt[t[0]]||Error)(t[1],t[2]);const mt=t=>{if(132!=R[M++]){let t=new Error("Packed values structure must be followed by a 4 element array");throw R.length<M&&(t.incomplete=!0),t}let e=t();if(!e||!e.length){let t=new Error("Packed values structure must be followed by a 4 element array");throw t.incomplete=!0,t}return $=$?e.concat($.slice(e.length)):e,$.prefixes=t(),$.suffixes=t(),t()};function bt(t,e){return"string"==typeof t?t+e:t instanceof Array?t.concat(e):Object.assign({},t,e)}function vt(){if(!$){if(!q.getShared)throw new Error("No packed values available");Ut()}return $}mt.handlesRead=!0,X[51]=mt,X[6]=t=>{if(!$){if(!q.getShared)return new yt(t,6);Ut()}if("number"==typeof t)return $[16+(t>=0?2*t:-2*t-1)];let e=new Error("No support for non-integer packed references yet");throw void 0===t&&(e.incomplete=!0),e},X[28]=t=>{N||(N=new Map,N.id=0);let e,r=N.id++,n=M;e=R[M]>>5==4?[]:{};let i={target:e};N.set(r,i);let o=t();return i.used?(Object.getPrototypeOf(e)!==Object.getPrototypeOf(o)&&(M=n,e=o,N.set(r,{target:e}),o=t()),Object.assign(e,o)):(i.target=o,o)},X[28].handlesRead=!0,X[29]=t=>{let e=N.get(t);return e.used=!0,e.target},X[258]=t=>new Set(t),(X[259]=t=>(q.mapsAsObjects&&(q.mapsAsObjects=!1,K=!0),t())).handlesRead=!0;Z.push(((t,e)=>t>=225&&t<=255?bt(vt().prefixes[t-224],e):t>=28704&&t<=32767?bt(vt().prefixes[t-28672],e):t>=1879052288&&t<=2147483647?bt(vt().prefixes[t-1879048192],e):t>=216&&t<=223?bt(e,vt().suffixes[t-216]):t>=27647&&t<=28671?bt(e,vt().suffixes[t-27639]):t>=1811940352&&t<=1879048191?bt(e,vt().suffixes[t-1811939328]):1399353956==t?{packedValues:$,structures:j.slice(0),version:e}:55799==t?e:void 0));const At=1==new Uint8Array(new Uint16Array([1]).buffer)[0],Et=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],Ot=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<Et.length;t++)Bt(Et[t],Ot[t]);function Bt(t,e){let r,n="get"+t.name.slice(0,-5);"function"==typeof t?r=t.BYTES_PER_ELEMENT:t=null;for(let i=0;i<2;i++){if(!i&&1==r)continue;let o=2==r?1:4==r?2:8==r?3:0;X[i?e:e-4]=1==r||i==At?n=>{if(!t)throw new Error("Could not find typed array for code "+e);return q.copyBuffers||1!==r&&(2!==r||1&n.byteOffset)&&(4!==r||3&n.byteOffset)&&(8!==r||7&n.byteOffset)?new t(Uint8Array.prototype.slice.call(n,0).buffer):new t(n.buffer,n.byteOffset,n.byteLength>>o)}:r=>{if(!t)throw new Error("Could not find typed array for code "+e);let s=new DataView(r.buffer,r.byteOffset,r.byteLength),a=r.length>>o,f=new t(a),u=s[n];for(let t=0;t<a;t++)f[t]=u.call(s,t<<o,i);return f}}}function It(){let t=31&R[M++];if(t>23)switch(t){case 24:t=R[M++];break;case 25:t=F.getUint16(M),M+=2;break;case 26:t=F.getUint32(M),M+=4}return t}function Ut(){if(q.getShared){let t=Tt((()=>(R=null,q.getShared())))||{},e=t.structures||[];q.sharedVersion=t.version,$=q.sharedValues=t.packedValues,!0===j?q.structures=j=e:j.splice.apply(j,[0,e.length].concat(e))}}function Tt(t){let e=C,r=M,n=Y,i=G,o=J,s=V,a=W,f=N,u=D,l=new Uint8Array(R.slice(0,C)),c=j,h=q,d=tt,p=t();return C=e,M=r,Y=n,G=i,J=o,V=s,W=a,N=f,D=u,R=l,tt=d,j=c,q=h,F=new DataView(R.buffer,R.byteOffset,R.byteLength),p}function kt(){R=null,N=null,j=null}const Lt=new Array(147);for(let t=0;t<256;t++)Lt[t]=+("1e"+Math.floor(45.15-.30103*t));let St=new rt({useRecords:!1});const _t=St.decode;St.decodeMultiple;let Rt,Ct,Mt;try{Rt=new TextEncoder}catch(t){}const xt="object"==typeof globalThis&&globalThis.Buffer,Pt=void 0!==xt,jt=Pt?xt.allocUnsafeSlow:Uint8Array,Vt=Pt?xt:Uint8Array,Dt=Pt?4294967296:2144337920;let Nt,$t,Ft,Kt,zt=0,Ht=null;const Wt=/[\u0080-\uFFFF]/,Yt=Symbol("record-id");class qt extends rt{constructor(t){let e,r,n,i,o;super(t),this.offset=0,t=t||{};let s=Vt.prototype.utf8Write?function(t,e,r){return $t.utf8Write(t,e,r)}:!(!Rt||!Rt.encodeInto)&&function(t,e){return Rt.encodeInto(t,$t.subarray(e)).written},a=this,f=t.structures||t.saveStructures,u=t.maxSharedStructures;if(null==u&&(u=f?128:0),u>8190)throw new Error("Maximum maxSharedStructure is 8190");let l=t.sequential;l&&(u=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let c,h,d,p=t.sharedValues;if(p){d=Object.create(null);for(let t=0,e=p.length;t<e;t++)d[p[t]]=t}let y=[],g=0,w=0;this.mapEncode=function(t,e){if(this._keyMap&&!this._mapped&&"Array"===t.constructor.name)t=t.map((t=>this.encodeKeys(t)));return this.encode(t,e)},this.encode=function(s,f){if($t||($t=new jt(8192),Ft=new DataView($t.buffer,0,8192),zt=0),Kt=$t.length-10,Kt-zt<2048?($t=new jt($t.length),Ft=new DataView($t.buffer,0,$t.length),Kt=$t.length-10,zt=0):f===le&&(zt=zt+7&2147483640),e=zt,a.useSelfDescribedHeader&&(Ft.setUint32(zt,3654940416),zt+=3),o=a.structuredClone?new Map:null,a.bundleStrings&&"string"!=typeof s?(Ht=[],Ht.size=1/0):Ht=null,r=a.structures,r){if(r.uninitialized){let t=a.getShared()||{};a.structures=r=t.structures||[],a.sharedVersion=t.version;let e=a.sharedValues=t.packedValues;if(e){d={};for(let t=0,r=e.length;t<r;t++)d[e[t]]=t}}let t=r.length;if(t>u&&!l&&(t=u),!r.transitions){r.transitions=Object.create(null);for(let e=0;e<t;e++){let t=r[e];if(!t)continue;let n,i=r.transitions;for(let r=0,o=t.length;r<o;r++){void 0===i[Yt]&&(i[Yt]=e);let o=t[r];n=i[o],n||(n=i[o]=Object.create(null)),i=n}i[Yt]=1048576|e}}l||(r.nextId=t)}if(n&&(n=!1),i=r||[],h=d,t.pack){let e=new Map;if(e.values=[],e.encoder=a,e.maxValues=t.maxPrivatePackedValues||(d?16:1/0),e.objectMap=d||!1,e.samplingPackedValues=c,te(s,e),e.values.length>0){$t[zt++]=216,$t[zt++]=51,Xt(4);let t=e.values;m(t),Xt(0),Xt(0),h=Object.create(d||null);for(let e=0,r=t.length;e<r;e++)h[t[e]]=e}}Nt=f&he;try{if(Nt)return;if(m(s),Ht&&ie(e,m),a.offset=zt,o&&o.idsToInsert){zt+=2*o.idsToInsert.length,zt>Kt&&v(zt),a.offset=zt;let t=function(t,e){let r,n=2*e.length,i=t.length-n;e.sort(((t,e)=>t.offset>e.offset?1:-1));for(let r=0;r<e.length;r++){let n=e[r];n.id=r;for(let e of n.references)t[e++]=r>>8,t[e]=255&r}for(;r=e.pop();){let e=r.offset;t.copyWithin(e+n,e,i),n-=2;let o=e+n;t[o++]=216,t[o++]=28,i=e}return t}($t.subarray(e,zt),o.idsToInsert);return o=null,t}return f&le?($t.start=e,$t.end=zt,$t):$t.subarray(e,zt)}finally{if(r)if(w<10&&w++,r.length>u&&(r.length=u),g>1e4)r.transitions=null,w=0,g=0,y.length>0&&(y=[]);else if(y.length>0&&!l){for(let t=0,e=y.length;t<e;t++)y[t][Yt]=void 0;y=[]}if(n&&a.saveShared){a.structures.length>u&&(a.structures=a.structures.slice(0,u));let t=$t.subarray(e,zt);return!1===a.updateSharedData()?a.encode(s):t}f&ce&&(zt=e)}},this.findCommonStringsToPack=()=>(c=new Map,d||(d=Object.create(null)),t=>{let e=t&&t.threshold||4,r=this.pack?t.maxPrivatePackedValues||16:0;p||(p=this.sharedValues=[]);for(let[t,i]of c)i.count>e&&(d[t]=r++,p.push(t),n=!0);for(;this.saveShared&&!1===this.updateSharedData(););c=null});const m=r=>{zt>Kt&&($t=v(zt));var n,i=typeof r;if("string"===i){if(h){let e=h[r];if(e>=0)return void(e<16?$t[zt++]=e+224:($t[zt++]=198,m(1&e?15-e>>1:e-16>>1)));if(c&&!t.pack){let t=c.get(r);t?t.count++:c.set(r,{count:1})}}let i,o=r.length;if(Ht&&o>=4&&o<1024){if((Ht.size+=o)>61440){let t,r=(Ht[0]?3*Ht[0].length+Ht[1].length:0)+10;zt+r>Kt&&($t=v(zt+r)),$t[zt++]=217,$t[zt++]=223,$t[zt++]=249,$t[zt++]=Ht.position?132:130,$t[zt++]=26,t=zt-e,zt+=4,Ht.position&&ie(e,m),Ht=["",""],Ht.size=0,Ht.position=t}let t=Wt.test(r);return Ht[t?0:1]+=r,$t[zt++]=t?206:207,void m(o)}i=o<32?1:o<256?2:o<65536?3:5;let a=3*o;if(zt+a>Kt&&($t=v(zt+a)),o<64||!s){let t,e,s,a=zt+i;for(t=0;t<o;t++)e=r.charCodeAt(t),e<128?$t[a++]=e:e<2048?($t[a++]=e>>6|192,$t[a++]=63&e|128):55296==(64512&e)&&56320==(64512&(s=r.charCodeAt(t+1)))?(e=65536+((1023&e)<<10)+(1023&s),t++,$t[a++]=e>>18|240,$t[a++]=e>>12&63|128,$t[a++]=e>>6&63|128,$t[a++]=63&e|128):($t[a++]=e>>12|224,$t[a++]=e>>6&63|128,$t[a++]=63&e|128);n=a-zt-i}else n=s(r,zt+i,a);n<24?$t[zt++]=96|n:n<256?(i<2&&$t.copyWithin(zt+2,zt+1,zt+1+n),$t[zt++]=120,$t[zt++]=n):n<65536?(i<3&&$t.copyWithin(zt+3,zt+2,zt+2+n),$t[zt++]=121,$t[zt++]=n>>8,$t[zt++]=255&n):(i<5&&$t.copyWithin(zt+5,zt+3,zt+3+n),$t[zt++]=122,Ft.setUint32(zt,n),zt+=4),zt+=n}else if("number"===i)if(this.alwaysUseFloat||r>>>0!==r)if(this.alwaysUseFloat||(r|0)!==r){let t;if((t=this.useFloat32)>0&&r<4294967296&&r>=-2147483648){let e;if($t[zt++]=250,Ft.setFloat32(zt,r),t<4||((e=r*Lt[(127&$t[zt])<<1|$t[zt+1]>>7])|0)===e)return void(zt+=4);zt--}$t[zt++]=251,Ft.setFloat64(zt,r),zt+=8}else r>=-24?$t[zt++]=31-r:r>=-256?($t[zt++]=56,$t[zt++]=~r):r>=-65536?($t[zt++]=57,Ft.setUint16(zt,~r),zt+=2):($t[zt++]=58,Ft.setUint32(zt,~r),zt+=4);else r<24?$t[zt++]=r:r<256?($t[zt++]=24,$t[zt++]=r):r<65536?($t[zt++]=25,$t[zt++]=r>>8,$t[zt++]=255&r):($t[zt++]=26,Ft.setUint32(zt,r),zt+=4);else if("object"===i)if(r){if(o){let t=o.get(r);if(t){if($t[zt++]=216,$t[zt++]=29,$t[zt++]=25,!t.references){let e=o.idsToInsert||(o.idsToInsert=[]);t.references=[],e.push(t)}return t.references.push(zt-e),void(zt+=2)}o.set(r,{offset:zt-e})}let t=r.constructor;if(t===Object)b(r);else if(t===Array){(n=r.length)<24?$t[zt++]=128|n:Xt(n);for(let t=0;t<n;t++)m(r[t])}else if(t===Map)if((this.mapsAsObjects?!1!==this.useTag259ForMaps:this.useTag259ForMaps)&&($t[zt++]=217,$t[zt++]=1,$t[zt++]=3),(n=r.size)<24?$t[zt++]=160|n:n<256?($t[zt++]=184,$t[zt++]=n):n<65536?($t[zt++]=185,$t[zt++]=n>>8,$t[zt++]=255&n):($t[zt++]=186,Ft.setUint32(zt,n),zt+=4),a.keyMap)for(let[t,e]of r)m(a.encodeKey(t)),m(e);else for(let[t,e]of r)m(t),m(e);else{for(let t=0,e=Ct.length;t<e;t++){if(r instanceof Mt[t]){let e=Ct[t],n=e.tag;return null==n&&(n=e.getTag&&e.getTag.call(this,r)),n<24?$t[zt++]=192|n:n<256?($t[zt++]=216,$t[zt++]=n):n<65536?($t[zt++]=217,$t[zt++]=n>>8,$t[zt++]=255&n):n>-1&&($t[zt++]=218,Ft.setUint32(zt,n),zt+=4),void e.encode.call(this,r,m,v)}}if(r[Symbol.iterator]){if(Nt){let t=new Error("Iterable should be serialized as iterator");throw t.iteratorNotHandled=!0,t}$t[zt++]=159;for(let t of r)m(t);return void($t[zt++]=255)}if(r[Symbol.asyncIterator]||Qt(r)){let t=new Error("Iterable/blob should be serialized as iterator");throw t.iteratorNotHandled=!0,t}if(this.useToJSON&&r.toJSON){const t=r.toJSON();if(t!==r)return m(t)}b(r)}}else $t[zt++]=246;else if("boolean"===i)$t[zt++]=r?245:244;else if("bigint"===i){if(r<BigInt(1)<<BigInt(64)&&r>=0)$t[zt++]=27,Ft.setBigUint64(zt,r);else if(r>-(BigInt(1)<<BigInt(64))&&r<0)$t[zt++]=59,Ft.setBigUint64(zt,-r-BigInt(1));else{if(!this.largeBigIntToFloat){r>=BigInt(0)?$t[zt++]=194:($t[zt++]=195,r=BigInt(-1)-r);let t=[];for(;r;)t.push(Number(r&BigInt(255))),r>>=BigInt(8);return void ne(new Uint8Array(t.reverse()),v)}$t[zt++]=251,Ft.setFloat64(zt,Number(r))}zt+=8}else{if("undefined"!==i)throw new Error("Unknown type: "+i);$t[zt++]=247}},b=!1===this.useRecords?this.variableMapSize?t=>{let e=Object.keys(t),r=Object.values(t),n=e.length;if(n<24?$t[zt++]=160|n:n<256?($t[zt++]=184,$t[zt++]=n):n<65536?($t[zt++]=185,$t[zt++]=n>>8,$t[zt++]=255&n):($t[zt++]=186,Ft.setUint32(zt,n),zt+=4),a.keyMap)for(let t=0;t<n;t++)m(a.encodeKey(e[t])),m(r[t]);else for(let t=0;t<n;t++)m(e[t]),m(r[t])}:t=>{$t[zt++]=185;let r=zt-e;zt+=2;let n=0;if(a.keyMap)for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(m(a.encodeKey(e)),m(t[e]),n++);else for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(m(e),m(t[e]),n++);$t[r+++e]=n>>8,$t[r+e]=255&n}:(t,e)=>{let r,o,s,a=i.transitions||(i.transitions=Object.create(null)),f=0,l=0;if(this.keyMap){s=Object.keys(t).map((t=>this.encodeKey(t))),l=s.length;for(let t=0;t<l;t++){let e=s[t];r=a[e],r||(r=a[e]=Object.create(null),f++),a=r}}else for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&(r=a[e],r||(1048576&a[Yt]&&(o=65535&a[Yt]),r=a[e]=Object.create(null),f++),a=r,l++);let c=a[Yt];if(void 0!==c)c&=65535,$t[zt++]=217,$t[zt++]=c>>8|224,$t[zt++]=255&c;else{if(s||(s=a.__keys__||(a.__keys__=Object.keys(t))),void 0===o?(c=i.nextId++,c||(c=0,i.nextId=1),c>=256&&(i.nextId=(c=u)+1)):c=o,i[c]=s,!(c<u)){if(a[Yt]=c,Ft.setUint32(zt,3655335680),zt+=3,f&&(g+=w*f),y.length>=256-u&&(y.shift()[Yt]=void 0),y.push(a),Xt(l+2),m(57344+c),m(s),e)return;for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&m(t[e]);return}$t[zt++]=217,$t[zt++]=c>>8|224,$t[zt++]=255&c,a=i.transitions;for(let t=0;t<l;t++)(void 0===a[Yt]||1048576&a[Yt])&&(a[Yt]=c),a=a[s[t]];a[Yt]=1048576|c,n=!0}if(l<24?$t[zt++]=128|l:Xt(l),!e)for(let e in t)("function"!=typeof t.hasOwnProperty||t.hasOwnProperty(e))&&m(t[e])},v=t=>{let r;if(t>16777216){if(t-e>Dt)throw new Error("Encoded buffer would be larger than maximum buffer size");r=Math.min(Dt,4096*Math.round(Math.max((t-e)*(t>67108864?1.25:2),4194304)/4096))}else r=1+(Math.max(t-e<<2,$t.length-1)>>12)<<12;let n=new jt(r);return Ft=new DataView(n.buffer,0,r),$t.copy?$t.copy(n,0,e,t):n.set($t.slice(e,t)),zt-=e,e=0,Kt=n.length-10,$t=n};let A=100,E=1e3;function*O(t,r,n){let i=t.constructor;if(i===Object){let e=!1!==a.useRecords;e?b(t,!0):Gt(Object.keys(t).length,160);for(let n in t){let i=t[n];e||m(n),i&&"object"==typeof i?r[n]?yield*O(i,r[n]):yield*B(i,r,n):m(i)}}else if(i===Array){let n=t.length;Xt(n);for(let i=0;i<n;i++){let n=t[i];n&&("object"==typeof n||zt-e>A)?r.element?yield*O(n,r.element):yield*B(n,r,"element"):m(n)}}else if(t[Symbol.iterator]&&!t.buffer){$t[zt++]=159;for(let n of t)n&&("object"==typeof n||zt-e>A)?r.element?yield*O(n,r.element):yield*B(n,r,"element"):m(n);$t[zt++]=255}else Qt(t)?(Gt(t.size,64),yield $t.subarray(e,zt),yield t,I()):t[Symbol.asyncIterator]?($t[zt++]=159,yield $t.subarray(e,zt),yield t,I(),$t[zt++]=255):m(t);n&&zt>e?yield $t.subarray(e,zt):zt-e>A&&(yield $t.subarray(e,zt),I())}function*B(t,r,n){let i=zt-e;try{m(t),zt-e>A&&(yield $t.subarray(e,zt),I())}catch(o){if(!o.iteratorNotHandled)throw o;r[n]={},zt=e+i,yield*O.call(this,t,r[n])}}function I(){A=E,a.encode(null,he)}function U(t,e,r){return A=e&&e.chunkThreshold?E=e.chunkThreshold:100,t&&"object"==typeof t?(a.encode(null,he),r(t,a.iterateProperties||(a.iterateProperties={}),!0)):[a.encode(t)]}async function*T(t,e){for(let r of O(t,e,!0)){let t=r.constructor;if(t===Vt||t===Uint8Array)yield r;else if(Qt(r)){let t,e=r.stream().getReader();for(;!(t=await e.read()).done;)yield t.value}else if(r[Symbol.asyncIterator])for await(let t of r)I(),t?yield*T(t,e.async||(e.async={})):yield a.encode(t);else yield r}}this.encodeAsIterable=function(t,e){return U(t,e,O)},this.encodeAsAsyncIterable=function(t,e){return U(t,e,T)}}useBuffer(t){$t=t,Ft=new DataView($t.buffer,$t.byteOffset,$t.byteLength),zt=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let t=this.sharedVersion||0;this.sharedVersion=t+1;let e=this.structures.slice(0),r=new Jt(e,this.sharedValues,this.sharedVersion),n=this.saveShared(r,(e=>(e&&e.version||0)==t));return!1===n?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):e.forEach(((t,e)=>this.structures[e]=t)),n}}function Gt(t,e){t<24?$t[zt++]=e|t:t<256?($t[zt++]=24|e,$t[zt++]=t):t<65536?($t[zt++]=25|e,$t[zt++]=t>>8,$t[zt++]=255&t):($t[zt++]=26|e,Ft.setUint32(zt,t),zt+=4)}class Jt{constructor(t,e,r){this.structures=t,this.packedValues=e,this.version=r}}function Xt(t){t<24?$t[zt++]=128|t:t<256?($t[zt++]=152,$t[zt++]=t):t<65536?($t[zt++]=153,$t[zt++]=t>>8,$t[zt++]=255&t):($t[zt++]=154,Ft.setUint32(zt,t),zt+=4)}const Zt="undefined"==typeof Blob?function(){}:Blob;function Qt(t){if(t instanceof Zt)return!0;let e=t[Symbol.toStringTag];return"Blob"===e||"File"===e}function te(t,e){switch(typeof t){case"string":if(t.length>3){if(e.objectMap[t]>-1||e.values.length>=e.maxValues)return;let r=e.get(t);if(r)2==++r.count&&e.values.push(t);else if(e.set(t,{count:1}),e.samplingPackedValues){let r=e.samplingPackedValues.get(t);r?r.count++:e.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t)if(t instanceof Array)for(let r=0,n=t.length;r<n;r++)te(t[r],e);else{let n=!e.encoder.useRecords;for(var r in t)t.hasOwnProperty(r)&&(n&&te(r,e),te(t[r],e))}break;case"function":console.log(t)}}const ee=1==new Uint8Array(new Uint16Array([1]).buffer)[0];function re(t,e){return!ee&&e>1&&(t-=4),{tag:t,encode:function(t,e){let r=t.byteLength,n=t.byteOffset||0,i=t.buffer||t;e(Pt?xt.from(i,n,r):new Uint8Array(i,n,r))}}}function ne(t,e){let r=t.byteLength;r<24?$t[zt++]=64+r:r<256?($t[zt++]=88,$t[zt++]=r):r<65536?($t[zt++]=89,$t[zt++]=r>>8,$t[zt++]=255&r):($t[zt++]=90,Ft.setUint32(zt,r),zt+=4),zt+r>=$t.length&&e(zt+r),$t.set(t.buffer?t:new Uint8Array(t),zt),zt+=r}function ie(t,e){Ft.setUint32(Ht.position+t,zt-Ht.position-t+1);let r=Ht;Ht=null,e(r[0]),e(r[1])}Mt=[Date,Set,Error,RegExp,yt,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?function(){}:BigInt64Array,Float32Array,Float64Array,Jt],Ct=[{tag:1,encode(t,e){let r=t.getTime()/1e3;(this.useTimestamp32||0===t.getMilliseconds())&&r>=0&&r<4294967296?($t[zt++]=26,Ft.setUint32(zt,r),zt+=4):($t[zt++]=251,Ft.setFloat64(zt,r),zt+=8)}},{tag:258,encode(t,e){e(Array.from(t))}},{tag:27,encode(t,e){e([t.name,t.message])}},{tag:27,encode(t,e){e(["RegExp",t.source,t.flags])}},{getTag:t=>t.tag,encode(t,e){e(t.value)}},{encode(t,e,r){ne(t,r)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||Pt&&!1!==this.tagUint8Array))return 64},encode(t,e,r){ne(t,r)}},re(68,1),re(69,2),re(70,4),re(71,8),re(72,1),re(77,2),re(78,4),re(79,8),re(85,4),re(86,8),{encode(t,e){let r=t.packedValues||[],n=t.structures||[];if(r.values.length>0){$t[zt++]=216,$t[zt++]=51,Xt(4);let t=r.values;e(t),Xt(0),Xt(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let e=0,r=t.length;e<r;e++)packedObjectMap[t[e]]=e}if(n){Ft.setUint32(zt,3655335424),zt+=3;let r=n.slice(0);r.unshift(57344),r.push(new yt(t.version,1399353956)),e(r)}else e(new yt(t.version,1399353956))}}];let oe=new qt({useRecords:!1});oe.encode,oe.encodeAsIterable,oe.encodeAsAsyncIterable;const{NEVER:se,ALWAYS:ae,DECIMAL_ROUND:fe,DECIMAL_FIT:ue}={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},le=512,ce=1024,he=2048;var de=i(287),pe=i(7);
/*!
 * Open Ordinal API
 *
 * @author   Open Ordinal <https://openordinal.dev>
 * @license  MIT
 * @module   OOAPI
 */
let ye,ge="",we="",me=[],be=[],ve=[],Ae=[],Ee=[],Oe=(new pe.EventEmitter,a.MULTI),Be=new Map,Ie={};function Ue(t){we=t,Ie=void 0,Oe=a.MULTI}function Te(){return null!=we&&""!=we||(we=function(){const t=window.location.pathname.split("/"),e=["content","preview","inscription"];return t.some((t=>e.includes(t)))?t[t.length-1]:""}()),we}function ke(t){Oe=t}function Le(){return Oe}function Se(t){Ie=t}function _e(){return Be}async function Re(t){return null!=Ie&&null==t||(Ie=await Me(t)),Ie}async function Ce(t=Te(),e=ge){try{const r=await fetch(kr(`/r/inscription/${t}`,e));if(!r.ok)return null;return await r.json()}catch(t){throw t}}async function Me(t=Te(),e=ge){const r=await fetch(kr(`/r/metadata/${t}`,e));if(!r.ok)throw new Error("No inscription for Id");const n=await r.json(),i=de.Buffer.from(n,"hex");return _t(i)}async function xe(t,e=-1,r=ge){return(await fetch(kr(`/r/sat/${t}/at/${e}`,r))).json()}async function Pe(t,e=0,r=ge){try{const n=await fetch(kr(`/r/sat/${t}/${e}`,r));if(!n.ok)throw new Error("Ord API call was unsuccessful");const i=await n.json(),o=i.ids,s=i.more;return{ids:o,more:s,page:i.page}}catch(t){throw t}}async function je(t,e=ge){let r=[],n=!0,i=0;for(;n;)await Pe(t,i,e).then((t=>{null!=t&&(r=r.concat(t.ids),n=t.more,i++)})).catch((t=>{n=!1}));return r}async function Ve(t=Te(),e=0,r=ge){let n=[],i=!0;try{const o=await fetch(kr(`/r/parents/${t}/${e}`,r));if(!o.ok)throw new Error("Ord API call was unsuccessful");const s=await o.json();n=n.concat(s.ids),i=s.more,e=s.page}catch(t){i=!1}return{ids:n,more:i,page:e}}async function De(t=Te(),e=ge){let r=[],n=!0,i=0;for(;n;)await Ve(t,i,e).then((t=>{null!=t&&(r=r.concat(t.ids),n=t.more,i++)})).catch((t=>{n=!1}));return r}async function Ne(t=Te(),e=0,r=ge){let n=[],i=!0;try{const o=await fetch(kr(`/r/children/${t}/${e}`,r));if(!o.ok)throw new Error("Ord API call was unsuccessful");const s=await o.json();n=n.concat(s.ids),i=s.more,e=s.page}catch(t){i=!1}return{ids:n,more:i,page:e}}async function $e(t=Te(),e=ge){let r=[],n=!0,i=0;for(;n;)await Ne(t,i,e).then((t=>{null!=t&&(r=r.concat(t.ids),n=t.more,i++)})).catch((t=>{n=!1}));return r}async function Fe(t=Te(),e=ge){let r={};return r.id=t,r}async function Ke(t=Te(),e=ge){let r={};r.id=t;try{const n=await Ce(t,e);r.inscription=n;const i=await De(t,e);r.parents=i;const o=await $e(t,e);r.children=o;const s=await je(n.sat,e);r.satIds=s;const a=await Me(t,e);r.metadata=a}catch(t){throw t}return r}async function ze(t,e=ge){const r=await fetch(kr(`/r/blockinfo/${t}`,e));if(!r.ok){if(404===r.status)throw new Error("Ord API call returned no BlockInfo");throw new Error("Ord API call was unsuccessful")}return r.json()}async function He(t,e=ge){const r=await fetch(kr(`/r/blockhash/${t}`,e));if(!r.ok){if(404===r.status)throw new Error("Ord API call returned no BlockHash");throw new Error("Ord API call was unsuccessful")}return await r.json()}async function We(t=ge){try{const e=await fetch(kr("/r/blockheight",t));if(!e.ok)throw new Error("Remote API call was unsuccessful");const r=await e.text();return Number(r)}catch(t){throw t}}async function Ye(t=ge){try{const e=await fetch(kr("/r/blocktime",t));if(!e.ok)throw new Error("Network response was not ok");const r=await e.text();return Number(r)}catch(t){throw t}}async function qe(t){const e=await Ce(t);return null!==e.sat?(await xe(e.sat)).id:t}async function Ge(t){let e=new String("/content/");if(t.startsWith(e.toString())){let r=t.substring(e.length);r=await qe(r),t=e+r}return t}async function Je(){const t=await fetch("/content/"+we,{method:"HEAD"});return null!=t.headers.get("X-Sagaverse-Ordinal-API")&&"true"==t.headers.get("X-Sagaverse-Ordinal-API")}async function Xe(t){return new Promise(((e,r)=>{void 0!==t?function n(){var i=t.contentDocument||t.contentWindow?.document;if(void 0===i||"complete"!=i.readyState)window.setTimeout(n,100);else{let n=t.contentWindow,o=()=>{let t=n.ooAPI;void 0!==t?t.isReady()?e(t):t.on("ready",(()=>{e(t)})):r("ooAPI not available.")};"complete"==i.readyState?o():n.onload=o}}():r("iframe is invalid")}))}async function Ze(t){const e=await Ge(t);return await import(e)}async function Qe(t){const e=await Ge(t);return await fetch(e)}function tr(t){let e={};return r=>{var n=e[r];return n||(n=t(r),e[r]=n),n}}async function er(t){var e=new d(t);return be.push(e),e}async function rr(t){be=be.filter((e=>e!==t))}async function nr(t){return be.find((e=>e.id===t))}async function ir(){return be}async function or(){be=[]}async function sr(t){let e;if(t&&""!==t)if("none"==t);else if("number"==typeof t){let r=Number(t);e=be[r]??be[0]}else"string"==typeof t?e=await nr(t):t instanceof d&&null!=t.id&&(e=await nr(t.id));else e=be[0];e!=ye&&(await(ye?.hide()),ye=e,await(ye?.show()))}async function ar(){return ye}async function fr(t){var e=new p(t);return ve.push(e),e}async function ur(t){ve=ve.filter((e=>e!==t))}async function lr(t){return ve.find((e=>e.id===t))}async function cr(){return ve}async function hr(){ve=[]}async function dr(t){var e=new y(t);return Ae.push(e),e}async function pr(t){Ae=Ae.filter((e=>e!==t))}async function yr(t){return Ae.find((e=>e.id===t))}async function gr(){return Ae}async function wr(){Ae=[]}async function mr(t){var e=new g(t);return Ee.push(e),e}async function br(t){Ee=Ee.filter((e=>e!==t))}async function vr(t){return Ee.find((e=>e.id===t))}async function Ar(){return Ee}async function Er(){Ee=[]}async function Or(t){var e=new O(t);return me.push(e),e}async function Br(t){return me.find((e=>e.id===t))}async function Ir(){return me}async function Ur(t){me=me.filter((e=>e!==t))}async function Tr(){me=[]}function kr(t,e){return t.includes("http")?t:`${e}${t}`}ge=function(){const t=window.location.pathname.split("/"),e=["content","preview","inscription","r"];let r=[];if(t.some((t=>e.includes(t)))){for(let n=0;n<t.length&&!e.includes(t[n]);n++)r.push(t[n]);return r.join("/")}return window.location.origin}(),function(){try{new URLSearchParams(window.location.search).forEach(((t,e)=>{Be.set(e.toLowerCase(),t.toLowerCase())}))}catch(t){console.error("Error parsing URL parameters:",t)}}(),
/*!
 * Open Ordinal API
 *
 * @author   Open Ordinal <https://openordinal.dev>
 * @license  MIT
 * @module   OOAPI
 */
window.ooAPI=l;var Lr=o.Artist,Sr=o.Asset,_r=o.Audio,Rr=o.Collection,Cr=o.Composition,Mr=o.Image,xr=o.OOMD,Pr=o.Ordinal,jr=o.OrdinalType,Vr=o.Release,Dr=o.Sprite,Nr=o.SpriteAnimation,$r=o.SpriteType,Fr=o.Track,Kr=o.Trait,zr=o.Variant,Hr=o.Video,Wr=o.addAsset,Yr=o.addCollection,qr=o.addComposition,Gr=o.addTrait,Jr=o.addVariant,Xr=o.cached,Zr=o.clearAssets,Qr=o.clearCollections,tn=o.clearCompositions,en=o.clearTraits,rn=o.clearVariants,nn=o.fetchLatest,on=o.getAll,sn=o.getAsset,an=o.getAssets,fn=o.getBlockHash,un=o.getBlockHeight,ln=o.getBlockInfo,cn=o.getBlockTime,hn=o.getChildrenAll,dn=o.getChildrenPage,pn=o.getCollection,yn=o.getCollections,gn=o.getComposition,wn=o.getCompositions,mn=o.getDisplayedVariant,bn=o.getId,vn=o.getInscription,An=o.getLatestId,En=o.getLatestPath,On=o.getMetadata,Bn=o.getOOMD,In=o.getOrdinalApiFromIFrame,Un=o.getParentsAll,Tn=o.getParentsPage,kn=o.getRequestParams,Ln=o.getSatAll,Sn=o.getSatAt,_n=o.getSatPage,Rn=o.getTrait,Cn=o.getTraits,Mn=o.getType,xn=o.getVariant,Pn=o.getVariants,jn=o.importLatest,Vn=o.isOrdinalAPIExtensionsAvailable,Dn=o.removeAsset,Nn=o.removeCollection,$n=o.removeComposition,Fn=o.removeTrait,Kn=o.removeVariant,zn=o.setDisplayedVariant,Hn=o.setId,Wn=o.setMetadata,Yn=o.setType;export{Lr as Artist,Sr as Asset,_r as Audio,Rr as Collection,Cr as Composition,Mr as Image,xr as OOMD,Pr as Ordinal,jr as OrdinalType,Vr as Release,Dr as Sprite,Nr as SpriteAnimation,$r as SpriteType,Fr as Track,Kr as Trait,zr as Variant,Hr as Video,Wr as addAsset,Yr as addCollection,qr as addComposition,Gr as addTrait,Jr as addVariant,Xr as cached,Zr as clearAssets,Qr as clearCollections,tn as clearCompositions,en as clearTraits,rn as clearVariants,nn as fetchLatest,on as getAll,sn as getAsset,an as getAssets,fn as getBlockHash,un as getBlockHeight,ln as getBlockInfo,cn as getBlockTime,hn as getChildrenAll,dn as getChildrenPage,pn as getCollection,yn as getCollections,gn as getComposition,wn as getCompositions,mn as getDisplayedVariant,bn as getId,vn as getInscription,An as getLatestId,En as getLatestPath,On as getMetadata,Bn as getOOMD,In as getOrdinalApiFromIFrame,Un as getParentsAll,Tn as getParentsPage,kn as getRequestParams,Ln as getSatAll,Sn as getSatAt,_n as getSatPage,Rn as getTrait,Cn as getTraits,Mn as getType,xn as getVariant,Pn as getVariants,jn as importLatest,Vn as isOrdinalAPIExtensionsAvailable,Dn as removeAsset,Nn as removeCollection,$n as removeComposition,Fn as removeTrait,Kn as removeVariant,zn as setDisplayedVariant,Hn as setId,Wn as setMetadata,Yn as setType};
//# sourceMappingURL=open-ordinal-api.min.js.map