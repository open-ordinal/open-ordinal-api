<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Setup | API</title><meta name="description" content="Documentation for API"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="/" class="title">API</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">API</a></li><li><a href="Guides.html">Guides</a></li><li><a href="Guides.Setup.html">Setup</a></li></ul></div><div class="tsd-panel tsd-typography"><a id="md:setup-of-ordinal-collection-general-idea-open-to-interpretation" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Setup of Ordinal Collection (General Idea, Open to Interpretation)<a href="#md:setup-of-ordinal-collection-general-idea-open-to-interpretation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Setup process:</p>
<ol>
<li>Each child is an HTML file that describes the ordinal through some kind of recipe.</li>
<li>Each child calls a common setup code that is part of the collection. (This is to reduce the size of the inscription and to make it easier to update.)</li>
<li>Each child is inscribed with the collection ordinal as the parent.</li>
<li>When the child is accessed, it calls on the common setup code and then displays the ordinal based on the recipe and any supported search parameters given in the URL.</li>
</ol>
<p>Each ordinal should be self-contained and only load what is needed.</p>
<a id="md:example-ordinal-collection-item" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example Ordinal Collection Item<a href="#md:example-ordinal-collection-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="html"><span class="hl-10">&lt;!</span><span class="hl-11">DOCTYPE</span><span class="hl-1"> </span><span class="hl-12">html</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-1"> </span><span class="hl-12">lang</span><span class="hl-1">=</span><span class="hl-13">&quot;en&quot;</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">meta</span><span class="hl-1"> </span><span class="hl-12">charset</span><span class="hl-1">=</span><span class="hl-13">&quot;UTF-8&quot;</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">meta</span><span class="hl-1"> </span><span class="hl-12">name</span><span class="hl-1">=</span><span class="hl-13">&quot;viewport&quot;</span><span class="hl-1"> </span><span class="hl-12">content</span><span class="hl-1">=</span><span class="hl-13">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">title</span><span class="hl-10">&gt;</span><span class="hl-1">{ORDINAL_NAME}</span><span class="hl-10">&lt;/</span><span class="hl-11">title</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-3">&lt;!-- Responsible for loading and calling the collection setup code code with the given recipe --&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;/content/{COLLECTION_JS_PLACEHOLDER}&quot;</span><span class="hl-14"> </span><span class="hl-12">onload</span><span class="hl-14">=</span><span class="hl-13">&quot;</span><span class="hl-4">setup</span><span class="hl-13">({</span><span class="hl-2">recipe_for_this_specific_ordinal</span><span class="hl-13">})&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Filled in with actual values it could look something like this:</p>
<pre><code class="html"><span class="hl-10">&lt;!</span><span class="hl-11">DOCTYPE</span><span class="hl-1"> </span><span class="hl-12">html</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;</span><span class="hl-11">html</span><span class="hl-1"> </span><span class="hl-12">lang</span><span class="hl-1">=</span><span class="hl-13">&quot;en&quot;</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">meta</span><span class="hl-1"> </span><span class="hl-12">charset</span><span class="hl-1">=</span><span class="hl-13">&quot;UTF-8&quot;</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">meta</span><span class="hl-1"> </span><span class="hl-12">name</span><span class="hl-1">=</span><span class="hl-13">&quot;viewport&quot;</span><span class="hl-1"> </span><span class="hl-12">content</span><span class="hl-1">=</span><span class="hl-13">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">title</span><span class="hl-10">&gt;</span><span class="hl-1">My Collection Ordinal #1</span><span class="hl-10">&lt;/</span><span class="hl-11">title</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">head</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-1">        </span><span class="hl-10">&lt;</span><span class="hl-11">script</span><span class="hl-14"> </span><span class="hl-12">src</span><span class="hl-14">=</span><span class="hl-13">&quot;/content/b6a50f5ba932b0ea7f652d9d28e59eced47bc658371c25e02d8b3457bb60ac8fi0&quot;</span><span class="hl-14"> </span><span class="hl-12">onload</span><span class="hl-14">=</span><span class="hl-13">&quot;</span><span class="hl-4">setup</span><span class="hl-13">({</span><span class="hl-2">recipe_for_this_specific_ordinal</span><span class="hl-13">})&quot;</span><span class="hl-10">&gt;&lt;/</span><span class="hl-11">script</span><span class="hl-10">&gt;</span><br/><span class="hl-1">    </span><span class="hl-10">&lt;/</span><span class="hl-11">body</span><span class="hl-10">&gt;</span><br/><span class="hl-10">&lt;/</span><span class="hl-11">html</span><span class="hl-10">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>When the page is loaded, it will call into the setup function, which is part of the common collection setup file. This setup function will then use the recipe for this specific ordinal to look up the actual data it needs to display the ordinal and fill in the API.</p>
<p>In our case, we again reference a common collection setup code, so we minimize the amount of data stored in the ordinal itself.</p>
<p>Example collection setup code:</p>
<a id="md:common-setup-code" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Common Setup Code<a href="#md:common-setup-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="js"><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">loadedImages</span><span class="hl-1"> = [];</span><br/><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">exportDraw</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-4">loadImages</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">resizeCanvas</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">canvas</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">getElementById</span><span class="hl-1">(</span><span class="hl-5">&quot;combinedCanvas&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-2">canvas</span><span class="hl-1">.</span><span class="hl-4">toDataURL</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">loadImages</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-9">if</span><span class="hl-1">(</span><span class="hl-2">loadedImages</span><span class="hl-1">.</span><span class="hl-2">length</span><span class="hl-1"> &gt; </span><span class="hl-15">0</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Fetch Images</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">res</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-4">fetch</span><span class="hl-1">(</span><span class="hl-5">&#39;/content/{lookup_table}&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">lookup_table</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1">.</span><span class="hl-4">json</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">images</span><span class="hl-1"> = [];</span><br/><span class="hl-1">    </span><span class="hl-9">for</span><span class="hl-1">(</span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">trait</span><span class="hl-1"> </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-2">recipe</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">// Fetches DataURL for each trait</span><br/><span class="hl-1">        </span><span class="hl-2">images</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-2">lookup_table</span><span class="hl-1">[</span><span class="hl-2">trait</span><span class="hl-1">]); </span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-4">loadImage</span><span class="hl-1"> = (</span><span class="hl-2">src</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-16">Promise</span><span class="hl-1">((</span><span class="hl-2">resolve</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">image</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-4">Image</span><span class="hl-1">();</span><br/><span class="hl-1">            </span><span class="hl-2">image</span><span class="hl-1">.</span><span class="hl-4">onload</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">resolve</span><span class="hl-1">(</span><span class="hl-2">image</span><span class="hl-1">);</span><br/><span class="hl-1">            </span><span class="hl-2">image</span><span class="hl-1">.</span><span class="hl-2">src</span><span class="hl-1"> = </span><span class="hl-2">src</span><span class="hl-1">;</span><br/><span class="hl-1">        });</span><br/><span class="hl-1">    };</span><br/><br/><span class="hl-1">    </span><span class="hl-9">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">index</span><span class="hl-1"> = </span><span class="hl-15">0</span><span class="hl-1">; </span><span class="hl-2">index</span><span class="hl-1"> &lt; </span><span class="hl-2">images</span><span class="hl-1">.</span><span class="hl-2">length</span><span class="hl-1">; </span><span class="hl-2">index</span><span class="hl-1">++) {</span><br/><span class="hl-1">        </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">loadedImage</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-4">loadImage</span><span class="hl-1">(</span><span class="hl-2">images</span><span class="hl-1">[</span><span class="hl-2">index</span><span class="hl-1">]);</span><br/><span class="hl-1">        </span><span class="hl-2">loadedImages</span><span class="hl-1">.</span><span class="hl-4">push</span><span class="hl-1">(</span><span class="hl-2">loadedImage</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">resizeCanvas</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">container</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">querySelector</span><span class="hl-1">(</span><span class="hl-5">&quot;.image-container&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">canvas</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">getElementById</span><span class="hl-1">(</span><span class="hl-5">&quot;combinedCanvas&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">ctx</span><span class="hl-1"> = </span><span class="hl-2">canvas</span><span class="hl-1">.</span><span class="hl-4">getContext</span><span class="hl-1">(</span><span class="hl-5">&quot;2d&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">width</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-2">clientWidth</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">canvas</span><span class="hl-1">.</span><span class="hl-2">width</span><span class="hl-1"> = </span><span class="hl-2">width</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">canvas</span><span class="hl-1">.</span><span class="hl-2">height</span><span class="hl-1"> = </span><span class="hl-2">width</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">ctx</span><span class="hl-1">.</span><span class="hl-2">imageSmoothingEnabled</span><span class="hl-1"> = </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">drawImage</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">drawImage</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">container</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">querySelector</span><span class="hl-1">(</span><span class="hl-5">&quot;.image-container&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">canvas</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">getElementById</span><span class="hl-1">(</span><span class="hl-5">&quot;combinedCanvas&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">ctx</span><span class="hl-1"> = </span><span class="hl-2">canvas</span><span class="hl-1">.</span><span class="hl-4">getContext</span><span class="hl-1">(</span><span class="hl-5">&quot;2d&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-9">if</span><span class="hl-1">(!</span><span class="hl-2">ctx</span><span class="hl-1"> || !</span><span class="hl-2">container</span><span class="hl-1"> || !</span><span class="hl-2">canvas</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-9">return</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">width</span><span class="hl-1"> = </span><span class="hl-2">container</span><span class="hl-1">.</span><span class="hl-2">clientWidth</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-9">for</span><span class="hl-1"> (</span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">image</span><span class="hl-1"> </span><span class="hl-0">of</span><span class="hl-1"> </span><span class="hl-2">loadedImages</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">ctx</span><span class="hl-1">.</span><span class="hl-4">drawImage</span><span class="hl-1">(</span><span class="hl-2">image</span><span class="hl-1">, </span><span class="hl-15">0</span><span class="hl-1">, </span><span class="hl-15">0</span><span class="hl-1">, </span><span class="hl-2">width</span><span class="hl-1">, </span><span class="hl-2">width</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">getAssets</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Your code to fetch assets for given ordinal</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">getTraits</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Your code to fetch traits for given ordinal</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">setup_ooapi</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Update to fetch assets from somewhere</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">assets</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-4">getAssets</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">traits</span><span class="hl-1"> = </span><span class="hl-9">await</span><span class="hl-1"> </span><span class="hl-4">getTraits</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">); </span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">ooapi</span><span class="hl-1"> = </span><span class="hl-2">window</span><span class="hl-1">.</span><span class="hl-2">ooAPI</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">let</span><span class="hl-1"> </span><span class="hl-2">inscriptionid</span><span class="hl-1"> = </span><span class="hl-2">ooapi</span><span class="hl-1">.</span><span class="hl-4">getId</span><span class="hl-1">()   </span><br/><br/><span class="hl-1">    </span><span class="hl-2">assets</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-2">img</span><span class="hl-1">, </span><span class="hl-2">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">ooapi</span><span class="hl-1">.</span><span class="hl-4">addAsset</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;image&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-5">&#39;asset_&#39;</span><span class="hl-1"> + </span><span class="hl-4">String</span><span class="hl-1">(</span><span class="hl-2">index</span><span class="hl-1">),</span><br/><span class="hl-1">            </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-2">inscriptionid</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">data:</span><span class="hl-1"> </span><span class="hl-2">img</span><span class="hl-1">.</span><span class="hl-2">src</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-2">traits</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">((</span><span class="hl-2">trait</span><span class="hl-1">, </span><span class="hl-2">index</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">ooapi</span><span class="hl-1">.</span><span class="hl-4">addTrait</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-2">trait</span><span class="hl-1">.</span><span class="hl-2">name</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-2">value:</span><span class="hl-1"> </span><span class="hl-2">trait</span><span class="hl-1">.</span><span class="hl-2">value</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-2">ooapi</span><span class="hl-1">.</span><span class="hl-4">addComposition</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;image&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-5">&#39;composition_&#39;</span><span class="hl-1"> + </span><span class="hl-4">String</span><span class="hl-1">(</span><span class="hl-2">index</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-2">inscriptionid</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">onExport</span><span class="hl-2">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-9">return</span><span class="hl-1"> </span><span class="hl-4">exportDraw</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-2">ooapi</span><span class="hl-1">.</span><span class="hl-4">addVariant</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-2">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;image&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-5">&#39;default&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-2">id:</span><span class="hl-1"> </span><span class="hl-2">inscriptionid</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">onDisplay</span><span class="hl-2">:</span><span class="hl-1"> () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-2">variant</span><span class="hl-1"> = </span><span class="hl-5">&#39;default&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">            </span><span class="hl-4">resizeCanvas</span><span class="hl-1">();</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    })</span><br/><br/><span class="hl-1">    </span><span class="hl-2">ooapi</span><span class="hl-1">.</span><span class="hl-4">ready</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-0">function</span><span class="hl-1"> </span><span class="hl-4">setup</span><span class="hl-1">(</span><span class="hl-2">recipe</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">// Any styles you want to add to the body</span><br/><span class="hl-1">    </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-2">body</span><span class="hl-1">.</span><span class="hl-2">style</span><span class="hl-1">.</span><span class="hl-2">cssText</span><span class="hl-1"> = </span><span class="hl-5">`</span><br/><span class="hl-5">    html, body {</span><br/><span class="hl-5">        margin: 0;</span><br/><span class="hl-5">        padding: 0;</span><br/><span class="hl-5">        height: 100%;</span><br/><span class="hl-5">        width: 100%;</span><br/><span class="hl-5">    }`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">resizeCanvas</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">window</span><span class="hl-1">.</span><span class="hl-4">addEventListener</span><span class="hl-1">(</span><span class="hl-5">&quot;resize&quot;</span><span class="hl-1">, </span><span class="hl-2">resizeCanvas</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-3">// Add and load the Open Ordinal API</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">ooapi</span><span class="hl-1"> = </span><span class="hl-5">&#39;/content/{OOAPI_ORDINAL_ID}&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-9">if</span><span class="hl-1"> (!</span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">querySelector</span><span class="hl-1">(</span><span class="hl-5">`script[src=&quot;</span><span class="hl-0">${</span><span class="hl-2">ooapi</span><span class="hl-0">}</span><span class="hl-5">&quot;]`</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-7">script</span><span class="hl-1"> = </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-4">createElement</span><span class="hl-1">(</span><span class="hl-5">&quot;script&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">script</span><span class="hl-1">.</span><span class="hl-2">src</span><span class="hl-1"> = </span><span class="hl-2">ooapi</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">script</span><span class="hl-1">.</span><span class="hl-4">onload</span><span class="hl-1"> = () </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-3">// Call ooAPI Setup when script loaded.</span><br/><span class="hl-1">            </span><span class="hl-4">setup_ooapi</span><span class="hl-1">();</span><br/><span class="hl-1">        };</span><br/><span class="hl-1">        </span><span class="hl-2">document</span><span class="hl-1">.</span><span class="hl-2">head</span><span class="hl-1">.</span><span class="hl-4">appendChild</span><span class="hl-1">(</span><span class="hl-2">script</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><span class="hl-2">window</span><span class="hl-1">.</span><span class="hl-2">setup</span><span class="hl-1"> = </span><span class="hl-2">setup</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>So in the end, each ordinal calls into the common collection entry javascript file, that does the setup.</p>
<p>In this particular scenario, we reference a version that can not be updated since we are targeting a specificy content inscription id. To be able to update the code in the collection entry, you can have a &quot;proxy&quot; .js, that again can lookup the latest version of the collection entry by SAT. Another alternative is to import a script that adds this functionality, and call it from the HTML, or just add it to the HTML yourself.</p>
<a id="md:next-steps" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Next Steps<a href="#md:next-steps" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:conclusion---consuming-the-open-ordinal-api-part-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><a href="Guides.Interacting_With_API.html">Conclusion - Consuming the Open Ordinal API</a> (Part 4)<a href="#md:conclusion---consuming-the-open-ordinal-api-part-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Congratulations on completing the setup of your ordinal collection! You now have a solid foundation for creating and managing your collection. Remember to explore the possibilities of interacting with your collection and consider how you want to allow users to engage with it.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:setup-of-ordinal-collection-general-idea-open-to-interpretation"><span>Setup of <wbr/>Ordinal <wbr/>Collection (<wbr/>General <wbr/>Idea, <wbr/>Open to <wbr/>Interpretation)</span></a><ul><li><a href="#md:example-ordinal-collection-item"><span>Example <wbr/>Ordinal <wbr/>Collection <wbr/>Item</span></a></li><li><a href="#md:common-setup-code"><span>Common <wbr/>Setup <wbr/>Code</span></a></li><li><a href="#md:next-steps"><span>Next <wbr/>Steps</span></a></li><li><ul><li><a href="#md:conclusion---consuming-the-open-ordinal-api-part-4"><span>Conclusion -<wbr/> <wbr/>Consuming the <wbr/>Open <wbr/>Ordinal API (<wbr/>Part 4)</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>API</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p>Made by Open Ordinal for the Ordinal community</p></footer><div class="overlay"></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-XHBQC2GFXJ"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XHBQC2GFXJ');</script></body></html>
